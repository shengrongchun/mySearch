{"version":3,"sources":["webpack:///src/components/chat/sider-left.vue","webpack:///./src/components/chat/sider-left.vue?a7ed","webpack:///./src/components/chat/sider-left.vue","webpack:///./src/directive/outsideClick.js","webpack:///src/components/chat/sider-right.vue","webpack:///./src/components/chat/sider-right.vue?8e13","webpack:///./src/components/chat/sider-right.vue","webpack:///src/components/chat/weChat.vue","webpack:///./src/components/chat/weChat.vue?eb7d","webpack:///./src/components/chat/weChat.vue","webpack:///src/components/login/index.vue","webpack:///./src/components/login/index.vue?ee53","webpack:///./src/components/login/index.vue","webpack:///src/components/avatar/AvatarCropper.vue","webpack:///./src/components/avatar/AvatarCropper.vue?a163","webpack:///./src/components/avatar/AvatarCropper.vue","webpack:///./src/components/avatar/index.js","webpack:///src/components/login/dialog.vue","webpack:///./src/components/login/dialog.vue?c564","webpack:///./src/components/login/dialog.vue","webpack:///src/components/chat/dialog.vue","webpack:///./src/components/chat/dialog.vue?f5f1","webpack:///./src/components/chat/dialog.vue","webpack:///src/components/shHeader.vue","webpack:///./src/components/shHeader.vue?0a4b","webpack:///./src/components/shHeader.vue","webpack:///src/components/shBody.vue","webpack:///./src/components/shBody.vue?243f","webpack:///./src/components/shBody.vue","webpack:///src/App.vue","webpack:///./src/App.vue?2dbb","webpack:///./src/App.vue","webpack:///./src/store/mutations.js","webpack:///./src/socket/index.js","webpack:///./src/socket/events.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/img/spacer.gif"],"names":["sider_left","computed","extends_default","Object","vuex_esm","groupsList","methods","preventDefault","clientX","clientY","y","_this","this","then","data","_this2","_this3","_this4","clearCurrentone","chatSearchList","item","type","currentOne","chat_sider_left","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","user","avatar","_v","_s","name","trigger","on","command","showDialog","slot","prefix-icon","placeholder","size","trigger-on-focus","popper-class","fetch-suggestions","search","select","handleSelect","scopedSlots","_u","key","fn","props","width","model","value","callback","$$v","searchValue","expression","click","$event","msgListNum","max","noticeList","length","background-color","text-color","active-text-color","_l","index","changeActiveOne","contextmenu","showMenu","contextMenuInfoData","counts","_id","contextMenuData","transferIndex","delInfo","_e","title","group","contextMenuGroData","removeGroup","friend","contextMenuFriData","delFriend","contextMenuNoticeData","addError","addOk","delNotice","staticRenderFns","components_chat_sider_left","__webpack_require__","normalizeComponent","ssrContext","outsideClick","bind","el","binding","vnode","documentHandler","e","context","contains","target","methodName","bindingFn","setTimeout","document","addEventListener","update","unbind","removeEventListener","sider_right","scrollTop","innerHTML","ctt","editDom","scrollHeight","focus","createRange","getSelection","removeAllRanges","range","body","createTextRange","x","clickoutside","i","chat_sider_right","visible-change","showHandleCommand","handleCommand","directives","rawName","groupMemberList","id","messageList","msg","class","me","rightself","left","domProps","content","style","backgroundPositionX","backgroundPositionY","insertPic","stopPropagation","faceShow","contenteditable","ctrlKey","shiftKey","altKey","metaKey","noCurrentNum","keydown","_k","keyCode","submitMsg","breakLine","weChat","siderRight","sider_right_normalizeComponent","chat_weChat","span","login","weChat_normalizeComponent","reload","isOpen","components_login","num","showChat","staticStyle","verticalAlign","borderRadius","divided","open","src_components_login","login_normalizeComponent","AvatarCropper","Element","Function","String","undefined","destroy","uploadImage","cropper","mimes","FileReader","result","reader","FormData","XMLHttpRequest","uploadFormData","filename","xhr","header","responseText","form","pickImage","avatar_AvatarCropper","href","dataUrl","alt","load","createCropper","textContent","labels","cancel","submit","AvatarCropper_normalizeComponent","login_dialog","required","message","min","validator","email","loginForm","ok","error","resetFields","fileImg","components_login_dialog","loginDialog","visible","centerDialogVisible","center","update:visible","$set","close","clearData","ref","rules","label-width","status-icon","label","prop","auto-complete","avatarSrc","upload-handler","updateUserAvatar","submitForm","resetForm","tips","show-icon","closable","editForm","src_components_login_dialog","dialog_normalizeComponent","chat_dialog","addFriendsKey","addGroupsKey","init","groupsForm","components_chat_dialog","addFriOrGroDialog","show","change","searchFirends","checkedList","disabled","have","addFriends","searchGroups","checkedGroupsList","addGroups","{float","src_components_chat_dialog","chat_dialog_normalizeComponent","shHeader","handleScroll","shLogin","shLoginDialog","shChatDialog","components_shHeader","down","suffix-icon","querySearch","nativeOn","keyup","searchModel","src_components_shHeader","shHeader_normalizeComponent","shBody","host","queryClick","biyinType","res","returnKey","components_shBody","element-loading-text","element-loading-spinner","element-loading-background","tab-click","tabsClick","baidu","biyinClick","biyin","sogou","App","shBody_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","mutations_state","searchResultList","searchResultGroupsList","friendsList","messages","activeMsgList","mutations","loginError","state","alert","setOpen","mask","setLoginDialog","dialog","setAddFriOrGroDialog","setUser","setSearchResult","resultList","setSearchGroupsResult","setFriendsList","list","setGroupsList","setGroupMemberList","pushGroupsList","push","pushFriendsList","deleteFriendsList","splice","deleteGroupsList","changeCurrentOne","vue_esm","set","pushMsg","msgId","groupId","owner","addCount","parseInt","addFriendOk","from","delNoticeListItem","delActiveMsgListItem","socket","a","connect","addUserListener","commit","listener","$events","removeAllListeners","removeAllSocketListener","_ref","groupName","window","vue","$notify","dangerouslyUseHTMLString","position","indexOf","emit","_ref2","events","promise_default","rej","once","keyword","params","actions","loginSuccess","_ref3","addGroupsListener","searchUsers","stringify_default","searchGroup","addFriend","_ref4","friendId","_ref5","console","log","_ref6","_ref7","deleteUser","_ref8","fromId","deleteGroup","_ref9","createGroup","_ref10","addGroup","_ref11","updateUser","_ref12","getGroupMember","_ref13","use","Store","getters","countsNum","vue_contextmenu_min_default","config","productionTip","vue_resource_esm","lib_button_default","lib_radio_button_default","lib_radio_group_default","lib_autocomplete_default","lib_tabs_default","lib_tab_pane_default","lib_loading_default","directive","lib_dialog_default","lib_form_default","lib_form_item_default","lib_input_default","lib_alert_default","lib_dropdown_default","lib_dropdown_menu_default","lib_dropdown_item_default","lib_badge_default","lib_menu_default","lib_menu_item_default","lib_menu_item_group_default","lib_row_default","lib_col_default","lib_tooltip_default","lib_checkbox_default","lib_checkbox_group_default","prototype","lib_notification_default","$confirm","lib_message_box_default","confirm","store","components","template","module","exports"],"mappings":"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","file":"static/js/app.cbfa5c699666dee66561.js","sourcesContent":["<template>\r\n    <div class=\"sider-left\">\r\n        <header class=\"left-header\">\r\n            <div class=\"avatar\">\r\n                <img :src=\"user.avatar\"/>\r\n            </div>\r\n            <div class=\"info\">\r\n                <span class=\"display-name\">{{user.name}}</span>\r\n                <div class=\"add\">\r\n                    <el-dropdown class=\"dropdown\" trigger=\"click\" @command=\"showDialog\">\r\n                        <span class=\"el-dropdown-link\">\r\n                            <i class=\"iconself iconfont icon-other\"></i>\r\n                        </span>\r\n                        <el-dropdown-menu slot=\"dropdown\">\r\n                            <el-dropdown-item command=\"friends\">加好友</el-dropdown-item>\r\n                            <el-dropdown-item command=\"groups\">加群组</el-dropdown-item>\r\n                            <el-dropdown-item command=\"createGroups\">创建群组</el-dropdown-item>\r\n                        </el-dropdown-menu>\r\n                    </el-dropdown>\r\n                </div>\r\n            </div>\r\n        </header>\r\n        <div class=\"left-search\">\r\n            <el-autocomplete prefix-icon=\"el-icon-search\" class=\"input inline-block\" placeholder=\"搜索\"\r\n            v-model=\"searchValue\" size=\"small\" :trigger-on-focus=\"false\"\r\n            popper-class=\"search-chat-item\"\r\n            :fetch-suggestions=\"search\"\r\n            @select=\"handleSelect\"\r\n            >\r\n                <template slot-scope=\"props\">\r\n                    <img width=\"30\" class=\"avatar\" :src=\"props.item.avatar\"/>\r\n                    <span class=\"name\">{{ props.item.name }}</span>\r\n                </template>\r\n            </el-autocomplete>\r\n        </div>\r\n        <div class=\"left-body\">\r\n            <div class=\"tabs\">\r\n                <ul>\r\n                    <li @click=\"type='info'\">\r\n                        <el-badge :value=\"msgListNum\" :max=\"99\" class=\"item\">\r\n                            <i v-if=\"type == 'info'\" class=\"iconself iconfont icon-interactive_fill active\"></i>\r\n                            <i v-else class=\"iconself iconfont icon-interactive\"></i>\r\n                        </el-badge>\r\n                    </li>\r\n                    <li @click=\"type='friends'\">\r\n                        <el-badge :value=\"0\" :max=\"99\" class=\"item\">\r\n                            <i v-if=\"type=='friends'\" class=\"iconself iconfont icon-addressbook_fill active\"></i>\r\n                            <i v-else class=\"iconself iconfont icon-addressbook\"></i>\r\n                        </el-badge>\r\n                    </li>\r\n                    <li @click=\"type='notice'\">\r\n                        <el-badge :value=\"noticeList.length\" :max=\"99\" class=\"item\">\r\n                            <i v-if=\"type == 'notice'\" class=\"iconself iconfont icon-remind_fill active\"></i>\r\n                            <i v-else class=\"iconself iconfont icon-remind\"></i>\r\n                        </el-badge>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"tabs-panel\">\r\n                <div v-if=\"type=='info'\">\r\n                    <el-menu class=\"left-menu\"\r\n                            background-color=\"#2e3238\"\r\n                            text-color=\"#fff\"\r\n                            active-text-color=\"#ffd04b\">\r\n                        <el-menu-item @click=\"changeActiveOne(item)\" :key=\"key\" :index=\"key+''\" v-for=\"(item,key) in activeMsgList\">\r\n                            <div @contextmenu=\"showMenu($event, key, contextMenuInfoData)\">\r\n                                <img :src=\"item.avatar\"/>\r\n                                <el-badge :value=\"counts[item._id]\" :max=\"99\" class=\"badge\">\r\n                                    <span>{{item.name}}</span>\r\n                                </el-badge>\r\n                            </div>\r\n                            <vue-context-menu :contextMenuData=\"contextMenuInfoData\"\r\n                                :transferIndex=\"transferIndex\"\r\n                                @delInfo=\"delInfo(item)\"\r\n                                class=\"customMenu\"\r\n                            ></vue-context-menu>\r\n                        </el-menu-item>\r\n                    </el-menu>\r\n                </div>\r\n                <div v-if=\"type=='friends'\">\r\n                    <el-menu class=\"left-menu\"\r\n                        background-color=\"#2e3238\"\r\n                        text-color=\"#fff\"\r\n                        active-text-color=\"#ffd04b\">\r\n                        <el-menu-item-group title=\"群组\" v-if=\"groupsList.length>0\">\r\n                            <el-menu-item @click=\"changeActiveOne(group)\" v-for=\"(group, key) in groupsList\" :key=\"key\" :index=\"key+'group'\"\r\n                                >\r\n                                <div @contextmenu=\"showMenu($event, key, contextMenuGroData)\">\r\n                                    <img :src=\"group.avatar\"/>\r\n                                    <span>{{group.name}}</span>\r\n                                </div>\r\n\r\n                                <vue-context-menu :contextMenuData=\"contextMenuGroData\"\r\n                                        :transferIndex=\"transferIndex\"\r\n                                        @removeGroup=\"removeGroup(group)\"\r\n                                        class=\"customMenu\"\r\n                                ></vue-context-menu>\r\n                            </el-menu-item>\r\n                        </el-menu-item-group>\r\n                        <el-menu-item-group title=\"好友\">\r\n                            <el-menu-item @click=\"changeActiveOne(friend)\" v-for=\"(friend, key) in friendsList\" :key=\"key\" :index=\"key+'fri'\"\r\n                                >\r\n                                <div @contextmenu=\"showMenu($event, key, contextMenuFriData)\">\r\n                                    <img :src=\"friend.avatar\"/>\r\n                                    <span>{{friend.name}}</span>\r\n                                </div>\r\n\r\n                                <vue-context-menu :contextMenuData=\"contextMenuFriData\"\r\n                                        :transferIndex=\"transferIndex\"\r\n                                        @delFriend=\"delFriend(friend)\"\r\n                                        class=\"customMenu\"\r\n                                ></vue-context-menu>\r\n                            </el-menu-item>\r\n                        </el-menu-item-group>\r\n                    </el-menu>\r\n                </div>\r\n                <div v-if=\"type=='notice'\">\r\n                    <el-menu class=\"left-menu\"\r\n                            background-color=\"#2e3238\"\r\n                            text-color=\"#fff\"\r\n                            active-text-color=\"#ffd04b\">\r\n                        <el-menu-item v-for=\"(item,key) in noticeList\" :index=\"key+''\" :key=\"key\" class=\"noticeAddfri\">\r\n                            <div @contextmenu=\"showMenu($event, key, contextMenuNoticeData)\">\r\n                                <el-badge :value=\"1\" :max=\"99\" class=\"badge\">\r\n                                    <img :src=\"item.avatar\"/>\r\n                                    <span>{{item.name}}</span>\r\n                                </el-badge>\r\n                                <p v-if=\"item.type == 'resolve'\">同意添加好友</p>\r\n                                <p v-if=\"item.type == 'reject'\">拒绝添加好友</p>\r\n                                <p v-if=\"item.type == 'add'\">请求添加好友</p>\r\n                                <div v-if=\"item.type == 'add'\">\r\n                                    <el-button size=\"mini\" @click=\"addError(item)\">不同意</el-button>\r\n                                    <el-button type=\"success\" size=\"mini\" @click=\"addOk(item)\">同意</el-button>\r\n                                </div>\r\n                            </div>\r\n                            <vue-context-menu :contextMenuData=\"contextMenuNoticeData\"\r\n                                :transferIndex=\"transferIndex\"\r\n                                @delNotice=\"delNotice(item)\"\r\n                                class=\"customMenu\"\r\n                            ></vue-context-menu>\r\n                        </el-menu-item>\r\n                    </el-menu>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapGetters, mapActions, mapMutations } from 'vuex'\r\n    export default {\r\n        name: 'siderLeft',\r\n        data() {\r\n            return {\r\n                searchValue: null,\r\n                type: 'friends',\r\n                transferIndex: null, // Show the menu that was clicked\r\n                contextMenuFriData: {\r\n                    menuName: 'friends',\r\n                    axios: {\r\n                        x: null,\r\n                        y: null\r\n                    },\r\n                    menulists: [\r\n                        {\r\n                            fnHandler: 'delFriend',\r\n                            btnName: '删除好友'\r\n                        }                  \r\n                    ]\r\n                },\r\n                contextMenuGroData: {\r\n                    menuName: 'groups',\r\n                    axios: {\r\n                        x: null,\r\n                        y: null\r\n                    },\r\n                    menulists: [\r\n                        {\r\n                            fnHandler: 'removeGroup',\r\n                            btnName: '退出群组'\r\n                        }                 \r\n                    ]\r\n                },\r\n                contextMenuNoticeData: {\r\n                    menuName: 'notice',\r\n                    axios: {\r\n                        x: null,\r\n                        y: null\r\n                    },\r\n                    menulists: [\r\n                        {\r\n                            fnHandler: 'delNotice',\r\n                            btnName: '删除消息'\r\n                        }                  \r\n                    ]\r\n                },\r\n                contextMenuInfoData: {\r\n                    menuName: 'info',\r\n                    axios: {\r\n                        x: null,\r\n                        y: null\r\n                    },\r\n                    menulists: [\r\n                        {\r\n                            fnHandler: 'delInfo',\r\n                            btnName: '删除会话'\r\n                        }                  \r\n                    ]\r\n                },\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['user', 'friendsList', 'groupsList', 'currentOne', 'activeMsgList', 'counts', 'noticeList']),\r\n            ...mapGetters(['msgListNum']),\r\n            chatSearchList() {\r\n                return this.friendsList.concat(this.groupsList)\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions(['changeCurrentOne', 'addFriendOk', 'deleteUser', 'deleteGroup']),\r\n            ...mapMutations(['setAddFriOrGroDialog', 'delNoticeListItem', 'delActiveMsgListItem', 'clearCurrentone']),\r\n            showMenu(event, index, contextMenuData) {\r\n                this.transferIndex = index // tranfer index to child component\r\n                event.preventDefault()\r\n                var x = event.clientX\r\n                var y = event.clientY\r\n                contextMenuData.axios = {\r\n                  x, y\r\n                }\r\n            },\r\n            delFriend(data) {\r\n                this.$confirm('确定删除好友吗？')\r\n                    .then(() => {\r\n                        this.deleteUser(data)\r\n                        this.delActiveMsgListItem(data)//如果有会话也一起删除\r\n                    }).catch(() => {})\r\n            },\r\n            removeGroup(data) {\r\n                // if(data.owner == this.user._id) {\r\n                //     alert('你是群主，你不能退出群组')\r\n                //     return\r\n                // }\r\n                this.$confirm('确定退出群组吗？')\r\n                    .then(() => {\r\n                        this.deleteGroup(data)\r\n                        this.delActiveMsgListItem(data)//如果有会话也一起删除\r\n                    }).catch(() => {})\r\n            },\r\n            delNotice(data) {\r\n                this.$confirm('确定删除消息吗？')\r\n                    .then(() => {\r\n                        this.delNoticeListItem(data)\r\n                        if(data.type == 'add') {//说明删除的是添加消息，默认就是拒绝\r\n                            this.addError(data)\r\n                        }\r\n                    }).catch(() => {})\r\n            },\r\n            delInfo(data) {\r\n                this.$confirm('确定删除会话吗？')\r\n                    .then(() => {\r\n                        this.delActiveMsgListItem(data)\r\n                        if(this.currentOne._id == data._id) {\r\n                            this.clearCurrentone()\r\n                        }\r\n                    }).catch(() => {})\r\n            },\r\n            search(queryString, cb) {\r\n                let results = queryString ? this.chatSearchList.filter(this.createFilter(queryString)) : this.chatSearchList\r\n                // 调用 callback 返回建议列表的数据\r\n                cb(results)\r\n            },\r\n            createFilter(queryString) {\r\n                return (restaurant) => {\r\n                    return (restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0)\r\n                }\r\n            },\r\n            handleSelect(item) {\r\n                this.changeCurrentOne(item)\r\n            },\r\n            showDialog(type) {\r\n                this.setAddFriOrGroDialog({\r\n                    type: type,\r\n                    show: true\r\n                })\r\n            },\r\n            changeActiveOne(item) {\r\n                let cur = this.currentOne\r\n                if (cur && cur._id === item._id) return\r\n                this.changeCurrentOne(item)\r\n            },\r\n            addOk(item) {\r\n                this.addFriendOk({\r\n                    mask: true,\r\n                    data: item\r\n                })\r\n            },\r\n            addError(item) {\r\n                this.addFriendOk({\r\n                    mask: false,\r\n                    data: item\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .sider-left {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #2e3238;\r\n        line-height: 1;\r\n        \r\n        .left-header {\r\n            padding: 15px;\r\n            position: relative;\r\n            \r\n            .avatar {\r\n                display: table-cell;\r\n                vertical-align: middle;\r\n                word-wrap: break-word;\r\n                word-break: break-all;\r\n                white-space: nowrap;\r\n                padding-right: 10px;\r\n                \r\n                img {\r\n                    width: 40px;\r\n                    height: 40px;\r\n                    display: block;\r\n                    border-radius: 2px;\r\n                    -moz-border-radius: 2px;\r\n                    -webkit-border-radius: 2px;\r\n                }\r\n            }\r\n\r\n            .info {\r\n                display: table-cell;\r\n                vertical-align: middle;\r\n                word-wrap: break-word;\r\n                word-break: break-all;\r\n                \r\n                .display-name {\r\n                    display: inline-block;\r\n                    font-weight: 400;\r\n                    width: 84px;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                    word-wrap: normal;\r\n                    color: #fff;\r\n                    font-size: 18px;\r\n                }\r\n\r\n                .add {\r\n                    display: inline-block;\r\n                    vertical-align: top;\r\n                    .dropdown {\r\n                        .icon-other {\r\n                            font-size: 30px;\r\n                        }\r\n                        cursor: pointer;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .left-search {\r\n            padding: 10px 15px;\r\n            & .input {\r\n                /deep/ .el-input__inner {\r\n                    border: none;\r\n                    border-radius: 0;\r\n                    background: #26292e;\r\n                } \r\n            }\r\n        }\r\n\r\n        .left-body {\r\n            .tabs {\r\n                margin-top: 5px;\r\n                ul {\r\n                    list-style: none;\r\n                    margin: 0 10px;\r\n                    li {\r\n                        cursor: pointer;\r\n                        display: inline-block;\r\n                        color: #909399;\r\n                        i {font-size: 30px;}\r\n                        &:not(:last-child) {\r\n                            margin-right: calc(50% - 50px);\r\n                        }\r\n\r\n                        .item {\r\n                            line-height: 0.7;\r\n                        }\r\n                        .active {\r\n                            color: #3CAF36;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .tabs-panel {\r\n                margin: 8px 0 0 0;\r\n                padding: 0;\r\n                .left-menu {\r\n                    border: none;\r\n                    \r\n                    .el-menu-item-group__title {\r\n                        background: #26292e;\r\n                    }\r\n\r\n                    .el-menu-item {\r\n                        overflow: hidden;\r\n                        text-overflow: ellipsis;\r\n                        border-bottom: 1px solid #26292e;\r\n                        img {\r\n                            width: 30px;\r\n                            height: 30px;\r\n                            margin-right: 10px;\r\n                            border-radius: 2px;\r\n                        }\r\n\r\n                        .badge {\r\n                            line-height: 1;\r\n                            span {\r\n                                margin-right: 5px;\r\n                            }\r\n                        }\r\n\r\n                        &.noticeAddfri {\r\n                            height: auto;\r\n                        }\r\n\r\n                        /deep/ .customMenu {\r\n                            box-shadow: rgba(0,0,0,.1) 2px 3px 10px;\r\n                            border-radius: 4px;\r\n                            border: 1px solid #eee;\r\n                            min-width: 125px;\r\n                            .context-menu-list {\r\n                               width: auto;\r\n                               height: auto;\r\n                               border-bottom: 1px solid #f1f1f1; \r\n                               border-radius: none;\r\n                            }\r\n\r\n                            .context-menu-list button {\r\n                                background: #fff;\r\n                                padding: 8px;\r\n                                font-size: 14px;\r\n                                &:hover {\r\n                                    background: #f0f0f0;\r\n                                    color: #000;\r\n                                    border-radius: 0;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/chat/sider-left.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sider-left\"},[_c('header',{staticClass:\"left-header\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":_vm.user.avatar}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"display-name\"},[_vm._v(_vm._s(_vm.user.name))]),_vm._v(\" \"),_c('div',{staticClass:\"add\"},[_c('el-dropdown',{staticClass:\"dropdown\",attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.showDialog}},[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"iconself iconfont icon-other\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"friends\"}},[_vm._v(\"加好友\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"groups\"}},[_vm._v(\"加群组\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"createGroups\"}},[_vm._v(\"创建群组\")])],1)],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"left-search\"},[_c('el-autocomplete',{staticClass:\"input inline-block\",attrs:{\"prefix-icon\":\"el-icon-search\",\"placeholder\":\"搜索\",\"size\":\"small\",\"trigger-on-focus\":false,\"popper-class\":\"search-chat-item\",\"fetch-suggestions\":_vm.search},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"30\",\"src\":props.item.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(props.item.name))])]}}]),model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"left-body\"},[_c('div',{staticClass:\"tabs\"},[_c('ul',[_c('li',{on:{\"click\":function($event){_vm.type='info'}}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.msgListNum,\"max\":99}},[(_vm.type == 'info')?_c('i',{staticClass:\"iconself iconfont icon-interactive_fill active\"}):_c('i',{staticClass:\"iconself iconfont icon-interactive\"})])],1),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.type='friends'}}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":0,\"max\":99}},[(_vm.type=='friends')?_c('i',{staticClass:\"iconself iconfont icon-addressbook_fill active\"}):_c('i',{staticClass:\"iconself iconfont icon-addressbook\"})])],1),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.type='notice'}}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.noticeList.length,\"max\":99}},[(_vm.type == 'notice')?_c('i',{staticClass:\"iconself iconfont icon-remind_fill active\"}):_c('i',{staticClass:\"iconself iconfont icon-remind\"})])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"tabs-panel\"},[(_vm.type=='info')?_c('div',[_c('el-menu',{staticClass:\"left-menu\",attrs:{\"background-color\":\"#2e3238\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"}},_vm._l((_vm.activeMsgList),function(item,key){return _c('el-menu-item',{key:key,attrs:{\"index\":key+''},on:{\"click\":function($event){_vm.changeActiveOne(item)}}},[_c('div',{on:{\"contextmenu\":function($event){_vm.showMenu($event, key, _vm.contextMenuInfoData)}}},[_c('img',{attrs:{\"src\":item.avatar}}),_vm._v(\" \"),_c('el-badge',{staticClass:\"badge\",attrs:{\"value\":_vm.counts[item._id],\"max\":99}},[_c('span',[_vm._v(_vm._s(item.name))])])],1),_vm._v(\" \"),_c('vue-context-menu',{staticClass:\"customMenu\",attrs:{\"contextMenuData\":_vm.contextMenuInfoData,\"transferIndex\":_vm.transferIndex},on:{\"delInfo\":function($event){_vm.delInfo(item)}}})],1)}))],1):_vm._e(),_vm._v(\" \"),(_vm.type=='friends')?_c('div',[_c('el-menu',{staticClass:\"left-menu\",attrs:{\"background-color\":\"#2e3238\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"}},[(_vm.groupsList.length>0)?_c('el-menu-item-group',{attrs:{\"title\":\"群组\"}},_vm._l((_vm.groupsList),function(group,key){return _c('el-menu-item',{key:key,attrs:{\"index\":key+'group'},on:{\"click\":function($event){_vm.changeActiveOne(group)}}},[_c('div',{on:{\"contextmenu\":function($event){_vm.showMenu($event, key, _vm.contextMenuGroData)}}},[_c('img',{attrs:{\"src\":group.avatar}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('vue-context-menu',{staticClass:\"customMenu\",attrs:{\"contextMenuData\":_vm.contextMenuGroData,\"transferIndex\":_vm.transferIndex},on:{\"removeGroup\":function($event){_vm.removeGroup(group)}}})],1)})):_vm._e(),_vm._v(\" \"),_c('el-menu-item-group',{attrs:{\"title\":\"好友\"}},_vm._l((_vm.friendsList),function(friend,key){return _c('el-menu-item',{key:key,attrs:{\"index\":key+'fri'},on:{\"click\":function($event){_vm.changeActiveOne(friend)}}},[_c('div',{on:{\"contextmenu\":function($event){_vm.showMenu($event, key, _vm.contextMenuFriData)}}},[_c('img',{attrs:{\"src\":friend.avatar}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(friend.name))])]),_vm._v(\" \"),_c('vue-context-menu',{staticClass:\"customMenu\",attrs:{\"contextMenuData\":_vm.contextMenuFriData,\"transferIndex\":_vm.transferIndex},on:{\"delFriend\":function($event){_vm.delFriend(friend)}}})],1)}))],1)],1):_vm._e(),_vm._v(\" \"),(_vm.type=='notice')?_c('div',[_c('el-menu',{staticClass:\"left-menu\",attrs:{\"background-color\":\"#2e3238\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"}},_vm._l((_vm.noticeList),function(item,key){return _c('el-menu-item',{key:key,staticClass:\"noticeAddfri\",attrs:{\"index\":key+''}},[_c('div',{on:{\"contextmenu\":function($event){_vm.showMenu($event, key, _vm.contextMenuNoticeData)}}},[_c('el-badge',{staticClass:\"badge\",attrs:{\"value\":1,\"max\":99}},[_c('img',{attrs:{\"src\":item.avatar}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),(item.type == 'resolve')?_c('p',[_vm._v(\"同意添加好友\")]):_vm._e(),_vm._v(\" \"),(item.type == 'reject')?_c('p',[_vm._v(\"拒绝添加好友\")]):_vm._e(),_vm._v(\" \"),(item.type == 'add')?_c('p',[_vm._v(\"请求添加好友\")]):_vm._e(),_vm._v(\" \"),(item.type == 'add')?_c('div',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.addError(item)}}},[_vm._v(\"不同意\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.addOk(item)}}},[_vm._v(\"同意\")])],1):_vm._e()],1),_vm._v(\" \"),_c('vue-context-menu',{staticClass:\"customMenu\",attrs:{\"contextMenuData\":_vm.contextMenuNoticeData,\"transferIndex\":_vm.transferIndex},on:{\"delNotice\":function($event){_vm.delNotice(item)}}})],1)}))],1):_vm._e()])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-0d5db0b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/chat/sider-left.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d5db0b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./sider-left.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./sider-left.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./sider-left.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d5db0b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./sider-left.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d5db0b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chat/sider-left.vue\n// module id = null\n// module chunks = ","const clickoutsideContext = '@@clickoutsideContext';\r\n\r\nexport default {\r\n  /*\r\n   @param el 指令所绑定的元素\r\n   @param binding {Object} \r\n   @param vnode vue编译生成的虚拟节点\r\n   */\r\n    bind (el, binding, vnode) {\r\n        const documentHandler = function(e) {\r\n          // console.log(el)\r\n          // console.log(e.target);\r\n          // console.log(vnode);\r\n          // console.log(binding);\r\n          \r\n            if(!vnode.context || el.contains(e.target)) {\r\n                return false;\r\n            }\r\n            if (binding.expression) {\r\n                vnode.context[el[clickoutsideContext].methodName](e)\r\n            } else {\r\n                el[clickoutsideContext].bindingFn(e);\r\n            }\r\n        }\r\n        el[clickoutsideContext] = {\r\n          documentHandler,\r\n          methodName: binding.expression,\r\n          bindingFn: binding.value\r\n        }\r\n        setTimeout(() => {\r\n            document.addEventListener('click', documentHandler);\r\n        }, 0)\r\n    },\r\n    update (el, binding) {\r\n        el[clickoutsideContext].methodName = binding.expression;\r\n        el[clickoutsideContext].bindingFn = binding.value;\r\n    },\r\n    unbind(el) {\r\n        document.removeEventListener('click', el[clickoutsideContext].documentHandler);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/directive/outsideClick.js","<template>\r\n    <div class=\"sider-right\">\r\n        <div>\r\n            <div  v-if=\"currentOne\" class=\"right-header\">\r\n                <el-dropdown @visible-change=\"showHandleCommand\" trigger=\"click\" v-if=\"currentOne.owner\" @command=\"handleCommand\">\r\n                    <span class=\"el-dropdown-link\">\r\n                        {{currentOne.name}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                    </span>\r\n                    <el-dropdown-menu slot=\"dropdown\" class=\"show-members\">\r\n                        <el-dropdown-item v-show=\"groupMemberList.length>0\" :key=\"key+''\" v-for=\"(item,key) in groupMemberList\" :command=\"item\" :title=\"item.name\">\r\n                            <img width=\"50\" class=\"avatar\" :src=\"item.avatar\"/>\r\n                            <span class=\"name\">{{ item.name }}</span>\r\n                        </el-dropdown-item>\r\n                        <el-dropdown-item v-show=\"groupMemberList.length==0\">\r\n                            <i class=\"el-icon-loading\"></i>\r\n                        </el-dropdown-item>\r\n                    </el-dropdown-menu>\r\n                </el-dropdown>\r\n                <span v-else>{{currentOne.name}}</span>\r\n            </div>\r\n            <div  v-if=\"currentOne\" class=\"right-body\" id=\"right-body\">\r\n                <div v-if=\"messageList&&messageList.length > 0\">\r\n                    <div class=\"message\" :class=\"{'me': user._id === msg._id}\" v-for=\"(msg, key) in messageList\" \r\n                        :key=\"key\">\r\n                        <img :title=\"msg.name\" class=\"avatar\" :src=\"msg.avatar\"/>\r\n                        <div class=\"content\">\r\n                            <h4 v-if=\"user._id !== msg._id\" class=\"nickname\">{{msg.name}}</h4>\r\n                            <div class=\"bubble\" :class=\"{'rightself': user._id === msg._id,'left':user._id !== msg._id}\">\r\n                                <div class=\"bubble_cont\">\r\n                                    <pre v-html=\"msg.content\"></pre>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <p v-else class=\"noMsg\">暂时没有新消息</p>\r\n            </div>\r\n            <div v-show=\"currentOne\" class=\"right-footer\">\r\n                <div class=\"bar\">\r\n                    <div class=\"face\" v-if=\"faceShow\" v-clickoutside=\"hideFace\">\r\n                        <div class=\"faceImg\">\r\n                            <a @click=\"insertPic(item)\" :title=\"item.title\" :class=\"'qq '+item.class\" v-for=\"(item,key) in faceList\"\r\n                                :style=\"{backgroundPositionX:item.x,backgroundPositionY:item.y}\"\r\n                            >{{item.title}}</a>\r\n                        </div>\r\n                    </div>\r\n                    <span @click.stop=\"faceShow = true\">\r\n                        <i class=\"iconself iconfont icon-emoji\"></i>\r\n                    </span>\r\n                </div>\r\n                <div class=\"submit\">\r\n                    <pre id=\"editArea\" contenteditable=\"true\" \r\n                    @focus.exact = \"noCurrentNum\"\r\n                    @keydown.enter.stop.prevent.exact=\"submitMsg\"\r\n                    @keydown.ctrl.enter.stop.exact=\"breakLine($event)\"\r\n                    ></pre>\r\n                </div>\r\n                <div class=\"action\">\r\n                    <span>按下Ctrl+Enter换行</span>\r\n                    <el-button size=\"mini\" @click.stop.prevent=\"submitMsg\">发送</el-button>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions } from 'vuex'\r\n    import clickoutside from '@/directive/outsideClick'\r\n    export default {\r\n        name: 'siderRight',\r\n        data() {\r\n            return {\r\n                img: null,\r\n                faceShow: false,\r\n                faceList: [],\r\n                faceTitleList: []\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['currentOne', 'messages', 'user', 'counts', 'groupMemberList']),\r\n            messageList() {\r\n                this.scrollTop()\r\n                return this.messages[this.currentOne._id]\r\n            },\r\n            editDom() {\r\n                return document.getElementById('editArea')\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions(['pushMsg', 'deleteUser', 'changeCurrentOne', 'getGroupMember']),\r\n            noCurrentNum() {\r\n                if(this.counts[this.currentOne._id]>0) {\r\n                    this.changeCurrentOne(this.currentOne)\r\n                }\r\n            },\r\n            submitMsg() {\r\n                let ctt = this.editDom.innerHTML\r\n                if (!ctt || ctt.match(/^\\s*$/)) return\r\n                this.pushMsg(ctt)\r\n                this.editDom.innerHTML = null\r\n            },\r\n            showHandleCommand(mask) {\r\n                if(mask) {\r\n                    this.getGroupMember(this.currentOne)\r\n                }\r\n            },\r\n            handleCommand(item) {\r\n                if(item._id == this.user._id) {\r\n                    return\r\n                }\r\n                this.changeCurrentOne(item)\r\n            },\r\n            breakLine($e) {\r\n                this.editDom.innerHTML = this.editDom.innerHTML + '<br></br>'\r\n                this.placeCaretAtEnd(this.editDom)\r\n                this.$nextTick(() => {\r\n                    let txt = $e.target\r\n                    txt.scrollTop = txt.scrollHeight\r\n                })  \r\n            },\r\n            placeCaretAtEnd(el) {//换行，光标移动到左后\r\n                el.focus()\r\n                if (typeof window.getSelection != \"undefined\"\r\n                    && typeof document.createRange != \"undefined\") {\r\n                    var range = document.createRange()\r\n                    range.selectNodeContents(el)\r\n                    range.collapse(false)\r\n                    var sel = window.getSelection()\r\n                    sel.removeAllRanges()\r\n                    sel.addRange(range)\r\n                }\r\n                else if (typeof document.body.createTextRange != \"undefined\") {\r\n                    var textRange = document.body.createTextRange()\r\n                    textRange.moveToElementText(el)\r\n                    textRange.collapse(false)\r\n                    textRange.select()\r\n                }\r\n            },\r\n            insertPic(item) {\r\n                this.img.style.backgroundPositionX = item.x\r\n                this.img.style.backgroundPositionY = item.y\r\n                this.editDom.appendChild(this.img.cloneNode(true))\r\n            },\r\n            scrollTop() {\r\n                this.$nextTick(() => {//dom更新后\r\n                    document.getElementById('right-body').scrollTop = document.getElementById('right-body').scrollHeight\r\n                })\r\n            },\r\n            hideFace() {\r\n                this.faceShow = false\r\n            }\r\n        },\r\n        directives: {\r\n            clickoutside\r\n        },\r\n        mounted() {\r\n            this.img = document.createElement(\"img\")\r\n            this.img.width = 20\r\n            this.img.height = 20\r\n            this.img.src = require('@/assets/img/spacer.gif')\r\n            this.img.setAttribute(\"class\", \"buImg\")\r\n            //\r\n            this.faceTitleList = ['微笑','撇嘴','色','发呆','得意','流泪','害羞','闭嘴','睡','大哭','尴尬','发怒','调皮','呲牙','惊讶','难过','酷','冷汗','抓狂','吐','偷笑','愉快','白眼','傲慢','饥饿','困','惊恐','流汗','憨笑','悠闲','奋斗','咒骂','疑问','嘘','晕','疯了','衰','骷髅','敲打','再见','擦汗','抠鼻','鼓掌','糗大了','坏笑','左哼哼','右哼哼'\r\n                ,'哈欠','鄙视','委屈','快哭了','阴险','亲亲','吓','可怜','菜刀','西瓜','啤酒','篮球','乒乓','咖啡','饭','猪头','玫瑰','凋谢','嘴唇','爱心','心碎','蛋糕','闪电','炸弹','刀','足球','瓢虫','便便','月亮','太阳','礼物','拥抱','强','弱','握手','胜利','抱拳','勾引','拳头','差劲','爱你','NO','OK','爱情','飞吻','跳跳','发抖','怄火','转圈','磕头','回头','跳绳','投降','激动','乱舞','献吻','左太极','右太极','嘿哈','捂脸','奸笑','机智','皱眉','耶','鸡','红包']\r\n            for(let i =0;i<113;i++) {\r\n                this.faceList.push({\r\n                    title: this.faceTitleList[i],\r\n                    class: 'face'+i,\r\n                    x: -parseInt(i%15)*24+'px',\r\n                    y: -parseInt(i/15)*24+'px'\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .sider-right {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: #eee;\r\n        line-height: 1;\r\n        \r\n        .right-header {\r\n            text-align: center;\r\n            position: relative;\r\n            padding: 10px 0;\r\n            margin: 0 19px;\r\n            border-bottom: 1px solid #d6d6d6;\r\n        }\r\n\r\n        .right-body {\r\n            position: relative;\r\n            padding: 0 19px;\r\n            height: 350px;\r\n            margin-top: 10px;\r\n            overflow-y: auto;\r\n            \r\n            .noMsg {\r\n                text-align: center;\r\n                color: #ccc;\r\n                font-size: 14px;\r\n                margin-top: 170px;\r\n            }\r\n\r\n            .message {\r\n                margin-bottom: 15px;\r\n                width: 100%;\r\n                float: left;\r\n                \r\n                &.me {\r\n                    float: right;\r\n                    text-align: right;\r\n                    clear: right;\r\n                    .avatar {\r\n                        float: right;\r\n                    }\r\n                }\r\n\r\n                .avatar {\r\n                    width: 30px;\r\n                    height: 30px;\r\n                    cursor: pointer;\r\n                    border-radius: 2px;\r\n                    float: left;\r\n                }\r\n\r\n                .content {\r\n                    overflow: hidden;\r\n                    \r\n                    .nickname {\r\n                        font-weight: 400;\r\n                        padding-left: 10px;\r\n                        font-size: 12px;\r\n                        height: 22px;\r\n                        line-height: 24px;\r\n                        color: #4f4f4f;\r\n                        width: 350px;\r\n                        overflow: hidden;\r\n                        text-overflow: ellipsis;\r\n                        white-space: nowrap;\r\n                        word-wrap: normal;   \r\n                    }\r\n\r\n                    .bubble {\r\n                        max-width: 350px;\r\n                        min-height: 1em;\r\n                        display: inline-block;\r\n                        vertical-align: top;\r\n                        position: relative;\r\n                        text-align: left;\r\n                        font-size: 14px;\r\n                        border-radius: 3px;\r\n                        margin: 0 10px;\r\n                        \r\n                        &.left {\r\n                            background: #fff;\r\n                        }\r\n\r\n                        &.rightself {\r\n                            background: #b2e281;\r\n                        }\r\n\r\n                        .bubble_cont {\r\n                            padding: 8px 10px;\r\n                            pre {\r\n                                word-wrap: break-word;\r\n                                white-space: pre-wrap; /*css-3*/ \r\n                                white-space: -moz-pre-wrap; /*Mozilla,since1999*/ \r\n                                white-space: -pre-wrap; /*Opera4-6*/ \r\n                                white-space: -o-pre-wrap; /*Opera7*/ \r\n                                word-wrap: break-word; /*InternetExplorer5.5+*/\r\n                                font-family: \"Microsoft YaHei\";\r\n                                \r\n                                /deep/ .buImg {\r\n                                    vertical-align: middle;\r\n                                    background: url(../../assets/img/bubble.png) no-repeat;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        &:before,&:after {\r\n                            position: absolute;\r\n                            top: 10px;\r\n                            border: 6px solid transparent;\r\n                            content: \" \";\r\n                        }\r\n\r\n                        &.left:before,&.left:after {\r\n                            right: 100%;\r\n                            border-right-color: #fff;\r\n                            border-right-width: 4px;\r\n                        }\r\n\r\n                        &.rightself:before,&.rightself:after {\r\n                            left: 100%;\r\n                            border-left-color: #b2e281;\r\n                            border-left-width: 4px;\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        }\r\n\r\n        .right-footer {\r\n            margin: 0 19px;\r\n            border-top: 1px solid #d6d6d6;\r\n            \r\n            .bar {\r\n                height: 30px;\r\n                position: relative;\r\n                \r\n                .iconself {\r\n                    font-size: 30px;\r\n                    color: #bbb;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                .face {\r\n                    width: 370px;\r\n                    height: 210px;\r\n                    background: #fff;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    top: -215px;\r\n                    border-radius: 4px;\r\n                    padding: 12px;\r\n                    box-sizing: border-box;\r\n                    \r\n                    &:after {\r\n                        position: absolute;\r\n                        top: 100%;\r\n                        left: 5px;\r\n                        border: 6px solid transparent;\r\n                        content: \" \";\r\n                        border-top-color: #fff;\r\n                    }\r\n\r\n                    .faceImg {\r\n                        width: 100%;\r\n                        height: 100%;\r\n                        \r\n                        .qq {\r\n                            float: left;\r\n                            text-indent: -999em;\r\n                            width: 22px;\r\n                            height: 22px;\r\n                            cursor: pointer;\r\n                            border-bottom: 1px solid #f0f0f0;\r\n                            border-right: 1px solid #f0f0f0;\r\n                            background: url(../../assets/img/bubble.png) no-repeat;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .submit  {\r\n                #editArea {\r\n                    outline: none;\r\n                    height: 80px;\r\n                    width: 100%;\r\n                    word-wrap: break-word;\r\n                    white-space: pre-wrap; /*css-3*/ \r\n                    white-space: -moz-pre-wrap; /*Mozilla,since1999*/ \r\n                    white-space: -pre-wrap; /*Opera4-6*/ \r\n                    white-space: -o-pre-wrap; /*Opera7*/ \r\n                    word-wrap: break-word; /*InternetExplorer5.5+*/\r\n                    font-family: \"Microsoft YaHei\";\r\n                    overflow: auto;\r\n                    // /deep/是>>>的别名。让sass预编译可以识别,>>>可以让scoped作用于子组件\r\n                    \r\n                    /deep/ .buImg {\r\n                        vertical-align: middle;\r\n                        background: url(../../assets/img/bubble.png) no-repeat;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .action {\r\n                text-align: right;\r\n                \r\n                span {\r\n                    color: #888;\r\n                    font-size: 12px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/chat/sider-right.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sider-right\"},[_c('div',[(_vm.currentOne)?_c('div',{staticClass:\"right-header\"},[(_vm.currentOne.owner)?_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"visible-change\":_vm.showHandleCommand,\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.currentOne.name)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{staticClass:\"show-members\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_vm._l((_vm.groupMemberList),function(item,key){return _c('el-dropdown-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.groupMemberList.length>0),expression:\"groupMemberList.length>0\"}],key:key+'',attrs:{\"command\":item,\"title\":item.name}},[_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"50\",\"src\":item.avatar}}),_vm._v(\" \"),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}),_vm._v(\" \"),_c('el-dropdown-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.groupMemberList.length==0),expression:\"groupMemberList.length==0\"}]},[_c('i',{staticClass:\"el-icon-loading\"})])],2)],1):_c('span',[_vm._v(_vm._s(_vm.currentOne.name))])],1):_vm._e(),_vm._v(\" \"),(_vm.currentOne)?_c('div',{staticClass:\"right-body\",attrs:{\"id\":\"right-body\"}},[(_vm.messageList&&_vm.messageList.length > 0)?_c('div',_vm._l((_vm.messageList),function(msg,key){return _c('div',{key:key,staticClass:\"message\",class:{'me': _vm.user._id === msg._id}},[_c('img',{staticClass:\"avatar\",attrs:{\"title\":msg.name,\"src\":msg.avatar}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[(_vm.user._id !== msg._id)?_c('h4',{staticClass:\"nickname\"},[_vm._v(_vm._s(msg.name))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"bubble\",class:{'rightself': _vm.user._id === msg._id,'left':_vm.user._id !== msg._id}},[_c('div',{staticClass:\"bubble_cont\"},[_c('pre',{domProps:{\"innerHTML\":_vm._s(msg.content)}})])])])])})):_c('p',{staticClass:\"noMsg\"},[_vm._v(\"暂时没有新消息\")])]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentOne),expression:\"currentOne\"}],staticClass:\"right-footer\"},[_c('div',{staticClass:\"bar\"},[(_vm.faceShow)?_c('div',{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(_vm.hideFace),expression:\"hideFace\"}],staticClass:\"face\"},[_c('div',{staticClass:\"faceImg\"},_vm._l((_vm.faceList),function(item,key){return _c('a',{class:'qq '+item.class,style:({backgroundPositionX:item.x,backgroundPositionY:item.y}),attrs:{\"title\":item.title},on:{\"click\":function($event){_vm.insertPic(item)}}},[_vm._v(_vm._s(item.title))])}))]):_vm._e(),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){$event.stopPropagation();_vm.faceShow = true}}},[_c('i',{staticClass:\"iconself iconfont icon-emoji\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"submit\"},[_c('pre',{attrs:{\"id\":\"editArea\",\"contenteditable\":\"true\"},on:{\"focus\":function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.noCurrentNum($event)},\"keydown\":[function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }$event.stopPropagation();$event.preventDefault();if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.submitMsg($event)},function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }if(!$event.ctrlKey){ return null; }$event.stopPropagation();if($event.shiftKey||$event.altKey||$event.metaKey){ return null; }_vm.breakLine($event)}]}})]),_vm._v(\" \"),_c('div',{staticClass:\"action\"},[_c('span',[_vm._v(\"按下Ctrl+Enter换行\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.submitMsg($event)}}},[_vm._v(\"发送\")])],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-03a2fc38\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/chat/sider-right.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03a2fc38\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./sider-right.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./sider-right.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./sider-right.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03a2fc38\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./sider-right.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-03a2fc38\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chat/sider-right.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"weChat\">\r\n        <el-row>\r\n            <el-col :span=\"8\">\r\n                <sider-left></sider-left>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <sider-right></sider-right>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import siderLeft from './sider-left'\r\n    import siderRight from './sider-right'\r\n    \r\n\r\n    export default {\r\n        name: 'weChat',\r\n        components: { siderLeft, siderRight }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .weChat {\r\n        width: 100%;\r\n        height: 100%;\r\n        .el-row,.el-col {\r\n            height: 100%;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/chat/weChat.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weChat\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('sider-left')],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('sider-right')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-989a19b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/chat/weChat.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-989a19b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./weChat.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./weChat.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./weChat.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-989a19b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./weChat.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-989a19b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chat/weChat.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div id=\"shLogin\">\r\n        <div v-if=\"user.name\">\r\n            <el-badge :value=\"num\" :max=\"99\" class=\"item\">\r\n                <i @click=\"showChat\" class=\"el-icon-message\"></i>\r\n            </el-badge>\r\n            <img :src=\"user.avatar\" width=\"30\" style=\"verticalAlign: middle;borderRadius:3px;\">\r\n            <el-dropdown @command=\"handleCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                    {{user.name}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <!-- <el-dropdown-item>我的博客</el-dropdown-item> -->\r\n                    <el-dropdown-item command=\"edit\">修改信息</el-dropdown-item>\r\n                    <el-dropdown-item command=\"exit\" divided>退出</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div>\r\n        <div class=\"user\" v-else>\r\n            <el-button type=\"text\" @click=\"login('login')\">登录</el-button>\r\n            <el-button type=\"text\" @click=\"login('sign')\">注册</el-button>\r\n        </div>\r\n        <div id=\"weChat\" :class=\"{open: isOpen}\">\r\n            <span @click=\"showChat\" class=\"close\">&times;</span>\r\n           <we-chat></we-chat> \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapMutations } from 'vuex'\r\nimport weChat from '../chat/weChat'\r\nexport default {\r\n    name: 'shLogin',\r\n    data() {\r\n        return {\r\n        }\r\n    },\r\n    components: {\r\n        weChat\r\n    },\r\n    computed: {\r\n        ...mapState(['user', 'noticeList', 'isOpen']),\r\n        ...mapGetters(['msgListNum']),\r\n        num() {\r\n            return this.noticeList.length + this.msgListNum\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations(['setLoginDialog', 'setOpen']),\r\n        handleCommand(command) {\r\n            if(command == 'exit') {\r\n                window.location.reload()\r\n            } else if(command == 'edit') {\r\n                this.login('edit')\r\n            }\r\n        },\r\n        showChat() {\r\n            this.setOpen(!this.isOpen)\r\n        },\r\n        login(type) {\r\n            this.setLoginDialog({\r\n                type: type,\r\n                centerDialogVisible: true\r\n            })\r\n            //this.$emit('clear')\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n    #shLogin {\r\n        margin-right: 15px;\r\n        float: right;\r\n        \r\n        .el-dropdown-link {\r\n            cursor: pointer;\r\n        }\r\n\r\n        .user .el-button {\r\n            color: #333;\r\n        }\r\n\r\n        .item {\r\n            line-height: 25px;\r\n            margin-right: 20px;\r\n            font-size: 23px;\r\n            cursor: pointer;\r\n        }\r\n\r\n        #weChat {\r\n            width: 600px;\r\n            height: 550px;\r\n            position: fixed;\r\n            top: 56px;\r\n            right: -600px;\r\n            transition: right 0.5s;\r\n            box-shadow: 0 2px 12px 0 rgba(0,0,0,.3);\r\n            &.open {\r\n                right: 10px;\r\n            }\r\n\r\n            .close {\r\n                position: absolute;\r\n                right: 5px;\r\n                top: 5px;\r\n                z-index: 1;\r\n                line-height: 1;\r\n                font-size: 20px;\r\n                cursor: pointer;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"shLogin\"}},[(_vm.user.name)?_c('div',[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.num,\"max\":99}},[_c('i',{staticClass:\"el-icon-message\",on:{\"click\":_vm.showChat}})]),_vm._v(\" \"),_c('img',{staticStyle:{\"verticalAlign\":\"middle\",\"borderRadius\":\"3px\"},attrs:{\"src\":_vm.user.avatar,\"width\":\"30\"}}),_vm._v(\" \"),_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                \"+_vm._s(_vm.user.name)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"edit\"}},[_vm._v(\"修改信息\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"exit\",\"divided\":\"\"}},[_vm._v(\"退出\")])],1)],1)],1):_c('div',{staticClass:\"user\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.login('login')}}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.login('sign')}}},[_vm._v(\"注册\")])],1),_vm._v(\" \"),_c('div',{class:{open: _vm.isOpen},attrs:{\"id\":\"weChat\"}},[_c('span',{staticClass:\"close\",on:{\"click\":_vm.showChat}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('we-chat')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-043d1392\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-043d1392\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-043d1392\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-043d1392\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"avatar-cropper\" v-if=\"dataUrl\">\r\n    <div class=\"avatar-cropper-mark\"><a href=\"javascript:void(0);\" class=\"avatar-cropper-close\" @click.stop.prevent=\"destroy\">&times;</a></div>\r\n    <div class=\"avatar-cropper-container\">\r\n      <div class=\"avatar-cropper-image-container\">\r\n        <img :src=\"dataUrl\" alt=\"\" @load.stop=\"createCropper\" />\r\n      </div>\r\n      <div class=\"avatar-cropper-footer\">\r\n        <button class=\"avatar-cropper-btn\" @click.stop.prevent=\"destroy\" v-text=\"labels.cancel\">Cancel</button>\r\n        <button class=\"avatar-cropper-btn\" @click.stop.prevent=\"submit\" v-text=\"labels.submit\">Submit</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import 'cropperjs/dist/cropper.css'\r\n  import Cropper from 'cropperjs'\r\n  export default {\r\n    props: {\r\n      trigger: {\r\n        type: [String, Element],\r\n        required: true\r\n      },\r\n      uploadHandler: {\r\n        type: Function,\r\n      },\r\n      uploadUrl: {\r\n        type: String,\r\n      },\r\n      uploadHeaders: {\r\n        type: Object,\r\n      },\r\n      uploadFormName: {\r\n        type: String,\r\n        default: 'file'\r\n      },\r\n      uploadFormData: {\r\n        type: Object,\r\n        default() {\r\n          return {}\r\n        }\r\n      },\r\n      mimes: {\r\n        type: String,\r\n        default: 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon'\r\n      },\r\n      labels: {\r\n        type: Object,\r\n        default() {\r\n          return {\r\n            submit: \"保存\",\r\n            cancel: \"取消\"\r\n          }\r\n        }\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        cropper: undefined,\r\n        dataUrl: undefined,\r\n        filename: undefined\r\n      }\r\n    },\r\n    methods: {\r\n      destroy() {\r\n        this.cropper.destroy()\r\n        this.dataUrl = undefined\r\n      },\r\n      submit() {\r\n        if (this.uploadUrl) {\r\n          this.uploadImage()\r\n        } else if (this.uploadHandler) {\r\n          this.uploadHandler(this.cropper)\r\n        } else {\r\n          throw new Error('No upload handler found.')\r\n        }\r\n        this.destroy()\r\n      },\r\n      pickImage() {\r\n        let id = 'avatar-img-input'\r\n        let fileInput = document.querySelector('input#'+id+'[type=file]')\r\n        if (fileInput == null) {\r\n          fileInput = document.createElement('input')\r\n          fileInput.id = id\r\n          fileInput.setAttribute('type', 'file')\r\n          fileInput.setAttribute('accept', this.mimes)\r\n          fileInput.addEventListener('change', () => {\r\n            if (fileInput.files != null && fileInput.files[0] != null) {\r\n              let reader = new FileReader()\r\n              reader.onload = (e) => {\r\n                this.dataUrl = e.target.result\r\n              }\r\n              reader.readAsDataURL(fileInput.files[0])\r\n              this.filename = fileInput.files[0].fileName || 'unknown'\r\n              this.$emit('changed', fileInput.files[0], reader)\r\n            }\r\n          })\r\n        }\r\n        fileInput.click()\r\n      },\r\n      createCropper() {\r\n        let image = document.querySelector('.avatar-cropper-image-container img')\r\n        this.cropper = new Cropper(image, {\r\n          aspectRatio: 1,\r\n          autoCropArea: 1,\r\n          viewMode: 1,\r\n          movable: false,\r\n          zoomable: false,\r\n          minCropBoxWidth: 100,\r\n          minCropBoxHeight: 80\r\n        })\r\n      },\r\n      uploadImage() {\r\n        this.cropper.getCroppedCanvas().toBlob((blob) => {\r\n          let form = new FormData()\r\n          let xhr = new XMLHttpRequest()\r\n          let data = Object.assign({}, this.uploadFormData)\r\n          for (let key in data) {\r\n            form.append(key, data[key])\r\n          }\r\n          form.append(this.uploadFormName, blob, this.filename)\r\n          this.$emit('uploading', form, xhr)\r\n          xhr.open('POST', this.uploadUrl, true)\r\n          for (let header in this.uploadHeaders) {\r\n            xhr.setRequestHeader(header, this.uploadHeaders[header])\r\n          }\r\n          xhr.onreadystatechange = () => {\r\n            if (xhr.readyState === 4) {\r\n              var response = JSON.parse(xhr.responseText)\r\n              if (xhr.status === 200) {\r\n                this.$emit('uploaded', response, form, xhr)\r\n              } else {\r\n                this.$emit('error', 'Image upload fail.', 'upload', xhr)\r\n              }\r\n            }\r\n          }\r\n          xhr.send(form);\r\n        })\r\n      }\r\n    },\r\n    mounted() {\r\n      let trigger = typeof this.trigger == 'object' ? this.trigger : document.querySelector(this.trigger)\r\n      if (!trigger) {\r\n        this.$emit('error', 'No avatar make trigger found.', 'user')\r\n      }\r\n      trigger.addEventListener('click', this.pickImage)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .avatar-cropper {\r\n    text-align: center;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    top:0;\r\n    left:0;\r\n    right:0;\r\n    bottom:0;\r\n    z-index: 99999;\r\n    .avatar-cropper-close {\r\n      float: right;\r\n      padding: 20px;\r\n      font-size: 3rem;\r\n      color: #fff;\r\n      font-weight: 100;\r\n      text-shadow: 0px 1px rgba(40, 40, 40,.3);\r\n    }\r\n    .avatar-cropper-mark {\r\n      position: fixed;\r\n      top:0;\r\n      left:0;\r\n      right:0;\r\n      bottom:0;\r\n      background: rgba(0, 0, 0, .10);\r\n    }\r\n    .avatar-cropper-container {\r\n      background: #fff;\r\n      z-index: 999;\r\n      box-shadow: 1px 1px 5px rgba(100, 100, 100, .14);\r\n      .avatar-cropper-image-container {\r\n        position: relative;\r\n        max-width: 400px;\r\n        height: 250px;\r\n      }\r\n      img {\r\n        max-width: 100%;\r\n        height: 100%;\r\n      }\r\n      .avatar-cropper-footer {\r\n        display: flex;\r\n        align-items: stretch;\r\n        align-content: stretch;\r\n        justify-content: space-between;\r\n        .avatar-cropper-btn {\r\n          width: 50%;\r\n          padding: 15px 0;\r\n          cursor: pointer;\r\n          border: none;\r\n          background: transparent;\r\n          outline: none;\r\n          &:hover {\r\n            background-color: #2aabd2;\r\n            color: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/avatar/AvatarCropper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dataUrl)?_c('div',{staticClass:\"avatar-cropper\"},[_c('div',{staticClass:\"avatar-cropper-mark\"},[_c('a',{staticClass:\"avatar-cropper-close\",attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.destroy($event)}}},[_vm._v(\"×\")])]),_vm._v(\" \"),_c('div',{staticClass:\"avatar-cropper-container\"},[_c('div',{staticClass:\"avatar-cropper-image-container\"},[_c('img',{attrs:{\"src\":_vm.dataUrl,\"alt\":\"\"},on:{\"load\":function($event){$event.stopPropagation();_vm.createCropper($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"avatar-cropper-footer\"},[_c('button',{staticClass:\"avatar-cropper-btn\",domProps:{\"textContent\":_vm._s(_vm.labels.cancel)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.destroy($event)}}},[_vm._v(\"Cancel\")]),_vm._v(\" \"),_c('button',{staticClass:\"avatar-cropper-btn\",domProps:{\"textContent\":_vm._s(_vm.labels.submit)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.submit($event)}}},[_vm._v(\"Submit\")])])])]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-27bb0d54\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/avatar/AvatarCropper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-27bb0d54\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./AvatarCropper.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./AvatarCropper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./AvatarCropper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-27bb0d54\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./AvatarCropper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/avatar/AvatarCropper.vue\n// module id = null\n// module chunks = ","import avatarCropper from './AvatarCropper'\r\n\r\nexport default avatarCropper\n\n\n// WEBPACK FOOTER //\n// ./src/components/avatar/index.js","<template>\r\n    <div>\r\n        <!--登录弹框-->\r\n        <el-dialog v-if=\"loginDialog.type !='edit'\" v-loading=\"loading\" :title=\"loginDialog.type == 'login'?'登录':'注册'\" :visible.sync=\"loginDialog.centerDialogVisible\" width=\"35%\" center @close=\"clearData\">\r\n            <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\" class=\"demo-loginForm\" status-icon>\r\n                <el-form-item v-if=\"loginDialog.type == 'sign'\" label=\"用户名称\" prop=\"name\">\r\n                    <el-input v-model=\"loginForm.name\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"邮箱\" prop=\"email\">\r\n                    <el-input v-model=\"loginForm.email\" type=\"email\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"头像\" prop=\"avatar\" v-if=\"loginDialog.type == 'sign'\">\r\n                    <div v-if=\"avatarSrc\" class=\"avatar-image\">\r\n                       <img :src=\"avatarSrc\"> \r\n                    </div>\r\n                    <el-button id=\"pick-avatar\" size=\"small\">选择头像</el-button>\r\n                    <avatar-cropper\r\n                      trigger=\"#pick-avatar\"\r\n                      :upload-handler=\"updateUserAvatar\"></avatar-cropper>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item v-if=\"loginDialog.type == 'sign'\" label=\"确认密码\" prop=\"pwdAgain\">\r\n                    <el-input v-model=\"loginForm.pwdAgain\" type=\"password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"submitForm('loginForm')\">{{loginDialog.type == 'login'?'登录':'注册'}}</el-button>\r\n                <el-button @click=\"resetForm('loginForm')\">重置</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <span v-if=\"showTips\">\r\n                <!-- <el-alert v-if=\"tips.type == 'ok'\" :title=\"tips.msg\" type=\"success\" center show-icon></el-alert> -->\r\n                <el-alert v-if=\"tips.type == 'error'\" :title=\"tips.msg\" type=\"error\" center show-icon :closable=\"false\"></el-alert>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog v-if=\"loginDialog.type =='edit'\" v-loading=\"loading\" title=\"修改信息\" :visible.sync=\"loginDialog.centerDialogVisible\" width=\"35%\" center @close=\"clearData\">\r\n            <el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\" label-width=\"100px\" class=\"demo-loginForm\" status-icon>\r\n                <el-form-item label=\"用户名称\" prop=\"name\">\r\n                    <el-input v-model=\"loginForm.name\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"头像\" prop=\"avatar\">\r\n                    <div v-if=\"avatarSrc\" class=\"avatar-image\">\r\n                       <img :src=\"avatarSrc\"> \r\n                    </div>\r\n                    <el-button id=\"pick-avatar\" size=\"small\">选择头像</el-button>\r\n                    <avatar-cropper\r\n                      trigger=\"#pick-avatar\"\r\n                      :upload-handler=\"updateUserAvatar\"></avatar-cropper>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"确认密码\" prop=\"pwdAgain\">\r\n                    <el-input v-model=\"loginForm.pwdAgain\" type=\"password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" @click=\"editForm('loginForm')\">修改</el-button>\r\n                <el-button @click=\"resetForm('loginForm')\">重置</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n            <span v-if=\"showTips\">\r\n                <!-- <el-alert v-if=\"tips.type == 'ok'\" :title=\"tips.msg\" type=\"success\" center show-icon></el-alert> -->\r\n                <el-alert v-if=\"tips.type == 'error'\" :title=\"tips.msg\" type=\"error\" center show-icon :closable=\"false\"></el-alert>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions, mapMutations } from 'vuex'\r\n    import AvatarCropper from '../avatar'\r\n    export default {\r\n        name: 'shDialog',\r\n        components: { AvatarCropper },\r\n        watch: {\r\n            loginDialog(newV, oldV) {\r\n                if(newV.type == 'edit') {\r\n                    this.loginForm.name = this.user.name\r\n                    this.loginForm.avatar = this.user.avatar\r\n                    this.avatarSrc = this.user.avatar\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            var validatePass = (rule, value, callback) => {\r\n                if (this.loginDialog.type == 'login' || !this.loginForm.pwdAgain) {\r\n                    return callback()\r\n                }\r\n                if (value !== this.loginForm.pwdAgain) {\r\n                    this.$refs.loginForm.validateField('pwdAgain')\r\n                } \r\n                callback()\r\n            }\r\n            var validatePass2 = (rule, value, callback) => {\r\n                if (!this.loginForm.password) {\r\n                    return callback()\r\n                }\r\n                if (value !== this.loginForm.password) {\r\n                    callback(new Error('两次输入密码不一致!'))\r\n                } else {\r\n                    callback()\r\n                }\r\n            }\r\n            return {\r\n                loading: false,\r\n                showTips: false,\r\n                avatarSrc: undefined,\r\n                tips: {\r\n                    type: null,\r\n                    msg: null\r\n                },\r\n                loginForm: {\r\n                    name: null,\r\n                    avatar: null,\r\n                    email: null,\r\n                    password: null,\r\n                    pwdAgain: null\r\n                },\r\n                rules: {\r\n                    name: [\r\n                        { required: true, message: '请输入用户名称', trigger: 'blur' },\r\n                        { min: 1, max: 10, message: '长度在 1 到 10 个字符', trigger: 'blur' }\r\n                    ],\r\n                    email: [\r\n                        { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                        { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur,change' }\r\n                    ],\r\n                    password: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' },\r\n                        { validator: validatePass, trigger: 'blur' },\r\n                        { min: 5, max: 10, message: '长度在 5 到 10 个字符', trigger: 'blur' }\r\n                    ],\r\n                    pwdAgain: [\r\n                        { required: true, message: '请输入密码', trigger: 'blur' },\r\n                        { validator: validatePass2, trigger: 'blur' },\r\n                        { min: 5, max: 10, message: '长度在 5 到 10 个字符', trigger: 'blur' }\r\n                    ],\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['loginDialog', 'user']),\r\n        },\r\n        methods: {\r\n            ...mapMutations([\r\n                'setUser'\r\n            ]),\r\n            ...mapActions([\r\n                'loginSuccess',\r\n                'updateUser'\r\n            ]),\r\n            clearData() {//暂时没用着\r\n                this.showTips = false\r\n                this.loginForm.name = null\r\n                this.loginForm.password = null\r\n                this.loginForm.pwdAgain = null\r\n                this.loginForm.email = null\r\n                this.loginForm.avatar = null\r\n                this.loginDialog.centerDialogVisible = false\r\n            },\r\n            submitForm(formName) {\r\n                this.showTips = false\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        if (this.loginDialog.type == 'login') {\r\n                            this.loading = true\r\n                            this.$http.post('/login', {email: this.loginForm.email,\r\n                                password: this.loginForm.password}).then((res)=> {\r\n                                this.setUser(res.data)\r\n                                this.tips = {type: 'ok', msg: res.data.msg}\r\n                                this.loginDialog.centerDialogVisible = false\r\n                                //socket链接\r\n                                this.loginSuccess(res.data)\r\n                            },(res)=> {\r\n                                this.tips = {type: 'error', msg: res.data}\r\n                            }).finally(() => {\r\n                                this.loading = false\r\n                                this.showTips = true\r\n                            })\r\n                        } else {\r\n                            this.loading = true\r\n                            this.$http.post('/sign', this.loginForm).then((res)=> {\r\n                                this.setUser(res.data)\r\n                                this.tips = {type: 'ok', msg: res.data.msg}\r\n                                this.loginDialog.centerDialogVisible = false\r\n                                //socket链接\r\n                                this.loginSuccess(res.data)\r\n                            },(res)=> {\r\n                                this.tips = {type: 'error', msg: res.data}\r\n                            }).finally(() => {\r\n                                this.loading = false\r\n                                this.showTips = true\r\n                            })\r\n                        }\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                })\r\n            },\r\n            editForm(formName) {\r\n                this.showTips = false\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        this.loading = true\r\n                        this.updateUser(this.loginForm)\r\n                        .then((result)=> {\r\n                            this.tips = {type: 'ok', msg: result.ok}\r\n                            this.showTips = true\r\n                            this.loading = false\r\n                            this.loginDialog.centerDialogVisible = false\r\n                        }, (error) => {\r\n                            this.tips = {type: 'error', msg: error}\r\n                            this.showTips = true\r\n                            this.loading = false\r\n                        })\r\n                    } else {\r\n                        console.log('error edit!!');\r\n                        return false;\r\n                    }\r\n                })\r\n            },\r\n            resetForm(formName) {\r\n                this.$refs[formName].resetFields();\r\n            },\r\n            updateUserAvatar(cropper) {\r\n                let result = cropper.getCroppedCanvas({\r\n                    width: 100,\r\n                    height: 80\r\n                })\r\n                let fileImg = result.toDataURL('image/jpg')\r\n                this.avatarSrc = fileImg\r\n                if(fileImg) {\r\n                    this.loginForm.avatar = fileImg\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .demo-loginForm {\r\n        .avatar-image {\r\n            vertical-align: bottom;\r\n            display: inline-block;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/login/dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loginDialog.type !='edit')?_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":_vm.loginDialog.type == 'login'?'登录':'注册',\"visible\":_vm.loginDialog.centerDialogVisible,\"width\":\"35%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.$set(_vm.loginDialog, \"centerDialogVisible\", $event)},\"close\":_vm.clearData}},[_c('el-form',{ref:\"loginForm\",staticClass:\"demo-loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules,\"label-width\":\"100px\",\"status-icon\":\"\"}},[(_vm.loginDialog.type == 'sign')?_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.name),callback:function ($$v) {_vm.$set(_vm.loginForm, \"name\", $$v)},expression:\"loginForm.name\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"email\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.email),callback:function ($$v) {_vm.$set(_vm.loginForm, \"email\", $$v)},expression:\"loginForm.email\"}})],1),_vm._v(\" \"),(_vm.loginDialog.type == 'sign')?_c('el-form-item',{attrs:{\"label\":\"头像\",\"prop\":\"avatar\"}},[(_vm.avatarSrc)?_c('div',{staticClass:\"avatar-image\"},[_c('img',{attrs:{\"src\":_vm.avatarSrc}})]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"pick-avatar\",\"size\":\"small\"}},[_vm._v(\"选择头像\")]),_vm._v(\" \"),_c('avatar-cropper',{attrs:{\"trigger\":\"#pick-avatar\",\"upload-handler\":_vm.updateUserAvatar}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),(_vm.loginDialog.type == 'sign')?_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"pwdAgain\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.pwdAgain),callback:function ($$v) {_vm.$set(_vm.loginForm, \"pwdAgain\", $$v)},expression:\"loginForm.pwdAgain\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('loginForm')}}},[_vm._v(_vm._s(_vm.loginDialog.type == 'login'?'登录':'注册'))]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('loginForm')}}},[_vm._v(\"重置\")])],1)],1),_vm._v(\" \"),(_vm.showTips)?_c('span',[(_vm.tips.type == 'error')?_c('el-alert',{attrs:{\"title\":_vm.tips.msg,\"type\":\"error\",\"center\":\"\",\"show-icon\":\"\",\"closable\":false}}):_vm._e()],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.loginDialog.type =='edit')?_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":\"修改信息\",\"visible\":_vm.loginDialog.centerDialogVisible,\"width\":\"35%\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.$set(_vm.loginDialog, \"centerDialogVisible\", $event)},\"close\":_vm.clearData}},[_c('el-form',{ref:\"loginForm\",staticClass:\"demo-loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules,\"label-width\":\"100px\",\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.name),callback:function ($$v) {_vm.$set(_vm.loginForm, \"name\", $$v)},expression:\"loginForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"头像\",\"prop\":\"avatar\"}},[(_vm.avatarSrc)?_c('div',{staticClass:\"avatar-image\"},[_c('img',{attrs:{\"src\":_vm.avatarSrc}})]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"pick-avatar\",\"size\":\"small\"}},[_vm._v(\"选择头像\")]),_vm._v(\" \"),_c('avatar-cropper',{attrs:{\"trigger\":\"#pick-avatar\",\"upload-handler\":_vm.updateUserAvatar}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"pwdAgain\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.pwdAgain),callback:function ($$v) {_vm.$set(_vm.loginForm, \"pwdAgain\", $$v)},expression:\"loginForm.pwdAgain\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.editForm('loginForm')}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('loginForm')}}},[_vm._v(\"重置\")])],1)],1),_vm._v(\" \"),(_vm.showTips)?_c('span',[(_vm.tips.type == 'error')?_c('el-alert',{attrs:{\"title\":_vm.tips.msg,\"type\":\"error\",\"center\":\"\",\"show-icon\":\"\",\"closable\":false}}):_vm._e()],1):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-b37fe600\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/login/dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b37fe600\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b37fe600\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b37fe600\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/dialog.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <!--添加好友or群组-->\r\n        <el-dialog size=\"tiny\" :visible.sync=\"addFriOrGroDialog.show\" @close=\"init\">\r\n            <el-tabs class=\"dialog\" v-model=\"addFriOrGroDialog.type\">\r\n                <el-tab-pane label=\"添加好友\" name=\"friends\">\r\n                    <el-input class=\"addInput\" @change=\"searchFirends\" placeholder=\"请输入好友名称 Enter搜索\" v-model=\"addFriendsKey\">\r\n                        <i @click=\"searchFirends\" slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\r\n                    </el-input>\r\n                    <div class=\"searchList\">\r\n                        <el-checkbox-group v-model=\"checkedList\">\r\n                            <el-checkbox :disabled=\"item.have\" class=\"addCheck\" v-for=\"(item,key) in searchResultList\" :label=\"item\" :key=\"key\">\r\n                                <img class=\"addImg\" :src=\"item.avatar\"/>\r\n                                <h4 class=\"addName\">{{item.name}}</h4>\r\n                                <span v-if=\"item.have\">已添加</span>\r\n                            </el-checkbox>\r\n                        </el-checkbox-group>\r\n                    </div>\r\n                    <div class=\"addBtn\">\r\n                        <el-button :disabled=\"!checkedList.length>0\" type=\"success\" @click=\"addFriends\">加入{{checkedList.length>0?checkedList.length:null}}</el-button>\r\n                    </div>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"添加群组\" name=\"groups\">\r\n                    <el-input class=\"addInput\" @change=\"searchGroups\" placeholder=\"请输入群组名称 Enter搜索\" v-model=\"addGroupsKey\">\r\n                        <i @click=\"searchGroups\" slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\r\n                    </el-input>\r\n                    <div class=\"searchList\">\r\n                        <el-checkbox-group v-model=\"checkedGroupsList\">\r\n                            <el-checkbox :disabled=\"item.have\" class=\"addCheck\" v-for=\"(item,key) in searchResultGroupsList\" :label=\"item\" :key=\"key\">\r\n                                <img class=\"addImg\" :src=\"item.avatar\"/>\r\n                                <h4 class=\"addName\">{{item.name}}</h4>\r\n                                <span v-if=\"item.have\">已添加</span>\r\n                            </el-checkbox>\r\n                        </el-checkbox-group>\r\n                    </div>\r\n                    <div class=\"addBtn\">\r\n                        <el-button :disabled=\"!checkedGroupsList.length>0\" type=\"success\" @click=\"addGroups\">加入{{checkedGroupsList.length>0?checkedGroupsList.length:null}}</el-button>\r\n                    </div>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"创建群组\" name=\"createGroups\">\r\n                    <el-form :model=\"groupsForm\" :rules=\"rules\" ref=\"groupsForm\" label-width=\"100px\" class=\"demo-groupsForm\" status-icon>\r\n                        <el-form-item label=\"群组名称\" prop=\"name\">\r\n                            <el-input v-model=\"groupsForm.name\" auto-complete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"头像\" prop=\"avatar\">\r\n                            <div v-if=\"avatarSrc\" class=\"avatar-image\">\r\n                               <img :src=\"avatarSrc\"> \r\n                            </div>\r\n                            <el-button id=\"pick-groups-avatar\" size=\"small\">选择头像</el-button>\r\n                            <avatar-cropper\r\n                              trigger=\"#pick-groups-avatar\"\r\n                              :upload-handler=\"updateUserAvatar\"></avatar-cropper>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                        <el-button style=\"{float: right}\" type=\"primary\" @click=\"submitForm('groupsForm')\">创建</el-button>\r\n                        <el-button @click=\"resetForm('groupsForm')\">重置</el-button>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n            \r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapActions, mapMutations } from 'vuex'\r\n    import AvatarCropper from '../avatar'\r\n    export default {\r\n        name: 'shChatDialog',\r\n        components: { AvatarCropper },\r\n        data() {\r\n            return {\r\n                addFriendsKey: null,\r\n                addGroupsKey: null,\r\n                checkedList: [],\r\n                checkedGroupsList: [],\r\n                avatarSrc: null,\r\n                groupsForm: {\r\n                    name: null,\r\n                    avatar: null\r\n                },\r\n                rules: {\r\n                    name: [\r\n                        { required: true, message: '请输入群组名称', trigger: 'blur' },\r\n                        { min: 1, max: 10, message: '长度在 1 到 10 个字符', trigger: 'blur' }\r\n                    ]\r\n                },\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['searchResultList', 'searchResultGroupsList', 'addFriOrGroDialog'])\r\n        },\r\n        methods: {\r\n            ...mapActions(['searchUsers', 'searchGroup', 'addFriend', 'addGroup', 'createGroup' ]),\r\n            ...mapMutations(['setAddFriOrGroDialog']),\r\n            init() {\r\n                this.addFriendsKey = null\r\n                this.addGroupsKey = null\r\n                this.checkedList = []\r\n                this.checkedGroupsList = []\r\n                this.avatarSrc = null\r\n                this.groupsForm = {\r\n                    name: null,\r\n                    avatar: null\r\n                }\r\n            },\r\n            searchFirends() {\r\n                if(!this.addFriendsKey) {return}\r\n                this.searchUsers(this.addFriendsKey)\r\n            },\r\n            searchGroups() {\r\n                if(!this.addGroupsKey) {return}\r\n                this.searchGroup(this.addGroupsKey)\r\n            },\r\n            addFriends() {\r\n                for(let i in this.checkedList) {\r\n                    this.addFriend(this.checkedList[i])\r\n                }\r\n                this.init()\r\n                this.setAddFriOrGroDialog({\r\n                    type: null,\r\n                    show: false\r\n                })\r\n            },\r\n            addGroups() {\r\n                for(let i in this.checkedGroupsList) {\r\n                    this.addGroup(this.checkedGroupsList[i])\r\n                }\r\n                this.init()\r\n                this.setAddFriOrGroDialog({\r\n                    type: null,\r\n                    show: false\r\n                })\r\n            },\r\n            resetForm(formName) {\r\n                this.$refs[formName].resetFields();\r\n            },\r\n            submitForm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        this.createGroup(this.groupsForm)\r\n                        this.setAddFriOrGroDialog({\r\n                            type: null,\r\n                            show: false\r\n                        })\r\n                        this.init()\r\n                    } else {\r\n                        console.log('error submit!!');\r\n                        return false;\r\n                    }\r\n                })\r\n            },\r\n            updateUserAvatar(cropper) {\r\n                let result = cropper.getCroppedCanvas({\r\n                    width: 100,\r\n                    height: 80\r\n                })\r\n                let fileImg = result.toDataURL('image/jpg')\r\n                this.avatarSrc = fileImg\r\n                if(fileImg) {\r\n                    this.groupsForm.avatar = fileImg\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .dialog {\r\n        .addInput {\r\n            .el-icon-search {\r\n                cursor: pointer;\r\n            }\r\n\r\n            /deep/ .el-input__inner {\r\n                border: 0;\r\n            }\r\n        }\r\n        \r\n        .addBtn {\r\n            margin-top: 10px;\r\n            text-align: right;\r\n        }\r\n        .searchList {\r\n\r\n            .addCheck {\r\n                display: block;\r\n                margin: 0;\r\n                padding: 7px 20px;\r\n                border-bottom: 1px solid #f2f2f2;\r\n\r\n                .addImg {\r\n                    width: 40px;\r\n                    height: 40px;\r\n                    vertical-align: middle;\r\n                    border-radius: 2px;\r\n                    margin-right: 10px;\r\n                }\r\n\r\n                .addName {\r\n                    display: inline-block;\r\n                    vertical-align: top;\r\n                    font-weight: 400;\r\n                    font-size: 13px;\r\n                    width: 100%;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                    word-wrap: normal;\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n        //创建群组\r\n        .demo-groupsForm {\r\n            .avatar-image {\r\n                display: inline-block;\r\n            }\r\n            #pick-groups-avatar {\r\n                vertical-align: text-bottom;\r\n            }\r\n        }\r\n    }\r\n    \r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/chat/dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"size\":\"tiny\",\"visible\":_vm.addFriOrGroDialog.show},on:{\"update:visible\":function($event){_vm.$set(_vm.addFriOrGroDialog, \"show\", $event)},\"close\":_vm.init}},[_c('el-tabs',{staticClass:\"dialog\",model:{value:(_vm.addFriOrGroDialog.type),callback:function ($$v) {_vm.$set(_vm.addFriOrGroDialog, \"type\", $$v)},expression:\"addFriOrGroDialog.type\"}},[_c('el-tab-pane',{attrs:{\"label\":\"添加好友\",\"name\":\"friends\"}},[_c('el-input',{staticClass:\"addInput\",attrs:{\"placeholder\":\"请输入好友名称 Enter搜索\"},on:{\"change\":_vm.searchFirends},model:{value:(_vm.addFriendsKey),callback:function ($$v) {_vm.addFriendsKey=$$v},expression:\"addFriendsKey\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"prefix\"},on:{\"click\":_vm.searchFirends},slot:\"prefix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"searchList\"},[_c('el-checkbox-group',{model:{value:(_vm.checkedList),callback:function ($$v) {_vm.checkedList=$$v},expression:\"checkedList\"}},_vm._l((_vm.searchResultList),function(item,key){return _c('el-checkbox',{key:key,staticClass:\"addCheck\",attrs:{\"disabled\":item.have,\"label\":item}},[_c('img',{staticClass:\"addImg\",attrs:{\"src\":item.avatar}}),_vm._v(\" \"),_c('h4',{staticClass:\"addName\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),(item.have)?_c('span',[_vm._v(\"已添加\")]):_vm._e()])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"addBtn\"},[_c('el-button',{attrs:{\"disabled\":!_vm.checkedList.length>0,\"type\":\"success\"},on:{\"click\":_vm.addFriends}},[_vm._v(\"加入\"+_vm._s(_vm.checkedList.length>0?_vm.checkedList.length:null))])],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"添加群组\",\"name\":\"groups\"}},[_c('el-input',{staticClass:\"addInput\",attrs:{\"placeholder\":\"请输入群组名称 Enter搜索\"},on:{\"change\":_vm.searchGroups},model:{value:(_vm.addGroupsKey),callback:function ($$v) {_vm.addGroupsKey=$$v},expression:\"addGroupsKey\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"prefix\"},on:{\"click\":_vm.searchGroups},slot:\"prefix\"})]),_vm._v(\" \"),_c('div',{staticClass:\"searchList\"},[_c('el-checkbox-group',{model:{value:(_vm.checkedGroupsList),callback:function ($$v) {_vm.checkedGroupsList=$$v},expression:\"checkedGroupsList\"}},_vm._l((_vm.searchResultGroupsList),function(item,key){return _c('el-checkbox',{key:key,staticClass:\"addCheck\",attrs:{\"disabled\":item.have,\"label\":item}},[_c('img',{staticClass:\"addImg\",attrs:{\"src\":item.avatar}}),_vm._v(\" \"),_c('h4',{staticClass:\"addName\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),(item.have)?_c('span',[_vm._v(\"已添加\")]):_vm._e()])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"addBtn\"},[_c('el-button',{attrs:{\"disabled\":!_vm.checkedGroupsList.length>0,\"type\":\"success\"},on:{\"click\":_vm.addGroups}},[_vm._v(\"加入\"+_vm._s(_vm.checkedGroupsList.length>0?_vm.checkedGroupsList.length:null))])],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"创建群组\",\"name\":\"createGroups\"}},[_c('el-form',{ref:\"groupsForm\",staticClass:\"demo-groupsForm\",attrs:{\"model\":_vm.groupsForm,\"rules\":_vm.rules,\"label-width\":\"100px\",\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"群组名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.groupsForm.name),callback:function ($$v) {_vm.$set(_vm.groupsForm, \"name\", $$v)},expression:\"groupsForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"头像\",\"prop\":\"avatar\"}},[(_vm.avatarSrc)?_c('div',{staticClass:\"avatar-image\"},[_c('img',{attrs:{\"src\":_vm.avatarSrc}})]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"pick-groups-avatar\",\"size\":\"small\"}},[_vm._v(\"选择头像\")]),_vm._v(\" \"),_c('avatar-cropper',{attrs:{\"trigger\":\"#pick-groups-avatar\",\"upload-handler\":_vm.updateUserAvatar}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"{float\":\"right}\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('groupsForm')}}},[_vm._v(\"创建\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('groupsForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-3ff78e36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/chat/dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3ff78e36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3ff78e36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3ff78e36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chat/dialog.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <div id=\"header\" :class=\"{'down': scrollTop!==0}\">\n            <div class=\"shHeader\">\n                <a class=\"shImg\">\n                    <!-- <img src=\"../assets/logo.png\" alt=\"到百度首页\" title=\"到百度首页\">\n                     -->\n                </a>\n                <div class=\"shSearch\">\n                    <el-autocomplete  suffix-icon=\"el-icon-search\" class=\"inline-block\" placeholder=\"请输入搜索内容\" v-model=\"searchModel\" size=\"medium\" :trigger-on-focus=\"false\"\n                    @keyup.enter.native=\"search\" :fetch-suggestions=\"querySearch\"\n                    >\n                        <el-button slot=\"append\" @click=\"search\">搜索一下</el-button>\n                    </el-autocomplete>\n                </div>\n                <sh-login></sh-login>\n            </div>\n        </div>\n        <sh-login-dialog></sh-login-dialog>\n        <sh-chat-dialog></sh-chat-dialog>\n    </div>\n</template>\n\n<script>\nimport shLogin from './login'\nimport shLoginDialog from './login/dialog'\nimport shChatDialog from './chat/dialog'\n\nexport default {\n    name: 'shHeader',\n    data() {\n        return {\n            scrollTop: 0\n        }\n    },\n    props: {\n        value: [String]\n    },\n    computed: {\n        searchModel: {\n            get() {\n                return this.value\n            },\n            set(value) {\n                this.$emit('input', value)\n            }\n        }\n    },\n    methods: {\n        search() {\n            if(!this.value) {return}\n            this.$emit('click')\n        },\n        querySearch(queryString, cb) {\n            cb([])\n        },\n        handleScroll() {\n            this.scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\n        },\n    },\n    mounted() {\n        window.addEventListener('scroll', this.handleScroll)\n    },\n    components: {\n        shLogin,\n        shLoginDialog,\n        shChatDialog\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n    #header {\n        z-index: 99;\n        height: 55px;\n        width: 100%;\n        position: fixed;\n        background: #fff;\n        top: 0;\n        left: 0;\n        border-bottom: 1px solid #ebebeb;\n        &.down {\n            box-shadow: 0 0 5px #888;\n        }\n\n        .shHeader {\n            zoom: 1;\n            padding: 0 0 0 10px;\n            line-height: 55px;\n            background: #fff;\n            \n            .shImg {\n                float: left;\n                margin: 7px 0 0;\n                img {\n                    width: 101px;\n                    height: 50px;\n                }\n            }\n\n            .shSearch {\n                margin-left: 150px; \n                display: inline-block;\n                .el-autocomplete {\n                    width: 600px;\n                }\n            }\n\n        }\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/shHeader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:{'down': _vm.scrollTop!==0},attrs:{\"id\":\"header\"}},[_c('div',{staticClass:\"shHeader\"},[_c('a',{staticClass:\"shImg\"}),_vm._v(\" \"),_c('div',{staticClass:\"shSearch\"},[_c('el-autocomplete',{staticClass:\"inline-block\",attrs:{\"suffix-icon\":\"el-icon-search\",\"placeholder\":\"请输入搜索内容\",\"size\":\"medium\",\"trigger-on-focus\":false,\"fetch-suggestions\":_vm.querySearch},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.search($event)}},model:{value:(_vm.searchModel),callback:function ($$v) {_vm.searchModel=$$v},expression:\"searchModel\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.search},slot:\"append\"},[_vm._v(\"搜索一下\")])],1)],1),_vm._v(\" \"),_c('sh-login')],1)]),_vm._v(\" \"),_c('sh-login-dialog'),_vm._v(\" \"),_c('sh-chat-dialog')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-2123c560\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/shHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2123c560\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./shHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./shHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./shHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2123c560\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./shHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2123c560\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shHeader.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <sh-header v-model=\"searchValue\" @click=\"queryClick\"></sh-header>\r\n        <div id=\"body\" class=\"clearfix\">\r\n            <div class=\"gap\"></div>\r\n            <div class=\"bodyQuery\"\r\n                v-loading=\"loading\"\r\n                element-loading-text=\"拼命加载中\"\r\n                element-loading-spinner=\"el-icon-loading\"\r\n                element-loading-background=\"rgba(255, 255, 255, 0.6)\">\r\n                <el-tabs v-model=\"type\" @tab-click=\"tabsClick\">\r\n                    <el-tab-pane name=\"baidu\">\r\n                        <span slot=\"label\">百度</span>\r\n                        <div v-html=\"baidu\"></div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane name=\"biyin\">\r\n                        <span slot=\"label\">必应</span>\r\n                        <el-radio-group v-model=\"biyinType\" size=\"small\" @change=\"biyinClick\">\r\n                            <el-radio-button label=\"in\">国内版</el-radio-button>\r\n                            <el-radio-button label=\"out\">国际版</el-radio-button>\r\n                        </el-radio-group>\r\n                        <div v-html=\"biyin\"></div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane name=\"sogou\">\r\n                        <span slot=\"label\">搜狗</span>\r\n                        <div v-html=\"sogou\"></div>\r\n                    </el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n            <div class=\"bodynews\">\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import shHeader from './shHeader'\r\n    import { mapActions } from 'vuex'\r\n    export default {\r\n        name: 'shBody',\r\n        data() {\r\n            return {\r\n                baidu: null,\r\n                biyin: null,\r\n                sogou: null,\r\n\r\n                type: 'baidu',\r\n                searchValue: null,\r\n                loading: false,\r\n                biyinType: 'in',\r\n                hostname: window.location.host,\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions(['logout']),\r\n            tabsClick(data) {\r\n                if(this.loading||this[data.name]||!this.searchValue) {return}\r\n                this.queryClick()   \r\n            },\r\n            biyinClick() {\r\n                if(!this.searchValue) {return}\r\n                this.queryClick()\r\n            },\r\n            queryClick(searchValue) {\r\n                this.loading = true\r\n                this.$http.post('/query',{\r\n                    key: searchValue?searchValue:encodeURI(this.searchValue),\r\n                    type: this.type,\r\n                    link: searchValue?true:false,//是否为页面链接\r\n                    biyinType: this.biyinType\r\n                }).then((res)=> {\r\n                    this[res.data.type] = res.data.data\r\n                    this.searchValue = decodeURI(res.data.returnKey)\r\n                    window.pageYOffset = 0\r\n                    document.documentElement.scrollTop = 0\r\n                    document.body.scrollTop = 0\r\n                    this.loading = false\r\n                },(res)=> {\r\n                    this[res.data.type] = '<div style=\"text-align:center;\">请求出错啦</div>'\r\n                    this.loading = false\r\n                })\r\n                //\r\n            }\r\n        },\r\n        mounted() {\r\n            let that = this\r\n            document.onclick = function(e) {\r\n                let node = e.target\r\n                while(node.tagName&&node.tagName !== 'A' && node) {\r\n                    node = node.parentNode?node.parentNode:null\r\n                }\r\n                //\r\n                if(node&&node.href) {//有链接才会判断\r\n                    //\r\n                    if(node.host == that.hostname) {//本主机请求\r\n                        that.queryClick(node.pathname+node.search)\r\n                        \r\n                    }else {\r\n                        window.open(node.href)\r\n                    }\r\n                    //原有的链接不跳转\r\n                    return false\r\n                }\r\n                // console.log(node.host)console.log(node.href)console.log(node.search)console.log(node.pathname)   \r\n            }\r\n            //\r\n            window.onbeforeunload = function() {\r\n                return '加载'\r\n            }\r\n        },\r\n        components: {\r\n            shHeader\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    #body {\r\n        margin-top: 56px;\r\n        height: 100%;\r\n        width: 100%;\r\n        \r\n        .gap {\r\n            height: 45px;\r\n            background: #f8f8f8;\r\n        }\r\n\r\n        .bodyQuery {\r\n            box-sizing: border-box;  \r\n            -moz-box-sizing: border-box; /* Firefox */  \r\n            -webkit-box-sizing: border-box; /* Safari */ \r\n            background: #fff;\r\n            padding: 0 10px 0 150px;\r\n            float: left;\r\n            width: 60%;\r\n            min-height: 300px;\r\n            height: 100%;\r\n            .el-tabs.el-tabs--top {\r\n                margin-top: -40px;\r\n            }\r\n            .el-tab-pane {\r\n                min-height: 200px;\r\n            }\r\n        }\r\n\r\n        .bodynews {\r\n            box-sizing: border-box;  \r\n            -moz-box-sizing: border-box; /* Firefox */  \r\n            -webkit-box-sizing: border-box; /* Safari */ \r\n            float: left;\r\n            width: 40%;\r\n            height: 300px;\r\n            background: #fff;\r\n            border-left: 1px solid #e1e1e1;\r\n            //padding: 0 10px;\r\n            margin-top: 40px;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/shBody.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('sh-header',{on:{\"click\":_vm.queryClick},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\",attrs:{\"id\":\"body\"}},[_c('div',{staticClass:\"gap\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"bodyQuery\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(255, 255, 255, 0.6)\"}},[_c('el-tabs',{on:{\"tab-click\":_vm.tabsClick},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},[_c('el-tab-pane',{attrs:{\"name\":\"baidu\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"百度\")]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.baidu)}})]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"biyin\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"必应\")]),_vm._v(\" \"),_c('el-radio-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.biyinClick},model:{value:(_vm.biyinType),callback:function ($$v) {_vm.biyinType=$$v},expression:\"biyinType\"}},[_c('el-radio-button',{attrs:{\"label\":\"in\"}},[_vm._v(\"国内版\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"out\"}},[_vm._v(\"国际版\")])],1),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.biyin)}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"sogou\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"搜狗\")]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.sogou)}})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bodynews\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-05f32949\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/shBody.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05f32949\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./shBody.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./shBody.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./shBody.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05f32949\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./shBody.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-05f32949\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shBody.vue\n// module id = null\n// module chunks = ","<template>\n    <div id=\"app\">\n        <sh-body></sh-body>\n    </div>\n</template>\n\n<script>\nimport shBody from './components/shBody'\nexport default {\n    name: 'App',\n    components: {\n        shBody: shBody\n    }\n}\n</script>\n\n<style lang=\"scss\">\n    * {\n        margin: 0;\n        padding: 0;\n    }\n    body,html {\n        background: #fff;\n        color: #333;\n        min-width: 900px;\n        font-family: \"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"微软雅黑\",Arial,sans-serif !important;\n    }\n    .clearfix:before,\n    .clearfix:after {\n        display: table;\n        content: \" \";\n    }\n    .clearfix:after {\n        clear: both;\n    }\n    .clearfix{\n        *zoom: 1;\n    }\n    .search-chat-item {//chat搜索下拉\n        .el-scrollbar {\n            overflow: inherit;\n            .el-autocomplete-suggestion__wrap.el-scrollbar__wrap {\n                margin-right: 0 !important;\n            }\n            .avatar {\n                vertical-align: middle;\n                border-radius: 2px;\n            }\n            .name {\n                margin-left: 5px;\n            }\n        }\n    }\n    .show-members.el-dropdown-menu {//显示群成员\n        overflow: inherit;\n        .el-dropdown-menu__item {\n            display: inline-block;\n            padding: 10px;\n            vertical-align: middle;\n            width: 50px;\n            line-height: 1;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            text-align: center;\n            .avatar {\n                border-radius: 5px;\n                display: block;\n                margin-bottom: 5px;\n            }\n            .name {\n               font-size: 10px;\n            }\n        }\n        \n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('sh-body')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-b427cef4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/.13.7.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b427cef4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/.13.7.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/.13.7.0@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/.13.7.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/.13.7.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b427cef4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/.13.7.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\n\r\nvar stateData = {\r\n    loginDialog: {//打开登录弹出框\r\n        type: 'login',\r\n        centerDialogVisible: false\r\n    },\r\n    addFriOrGroDialog: {\r\n        type: null,\r\n        show: false\r\n    },//打开加入(好友、群组)类型\r\n    //\r\n    user: {\r\n        _id: null,\r\n        name: null,\r\n        avatar: null\r\n    },\r\n    searchResultList: [], //搜索结果\r\n    searchResultGroupsList: [], //搜索结果\r\n    friendsList: [], //好友列表\r\n    groupsList: [], //群组列表\r\n    currentOne: null,     // 当前聊天对象\r\n    messages: {},    // 消息记录\r\n    activeMsgList: [], //当前回话列表\r\n    counts: {},  // 消息对象\r\n    noticeList: [], //notice列表\r\n    isOpen: false,//weChat界面是否打开了\r\n    groupMemberList: [],//群成员\r\n   \r\n}\r\n//state\r\nexport const state = stateData\r\n//getters 计算属性\r\nexport const getters = {//getters方法有效的前提条件是必须在state中定义才行，如果用vue.set定义的，在改变的时候也需要用vue.set\r\n    msgListNum: (state) => {\r\n        let countsNum = 0\r\n        for(let i in state.counts) {\r\n            countsNum += state.counts[i]\r\n        }\r\n        return countsNum\r\n    }\r\n}\r\n\r\n//mutations\r\nexport const mutations = {\r\n    loginError: (state, data) => {\r\n        state.user = {\r\n            _id: null,\r\n            name: null,\r\n            avatar: null\r\n        }\r\n        alert(data.msg)\r\n    },\r\n    setOpen: (state, mask) => {//设置isOpen\r\n        state.isOpen = mask\r\n    },\r\n    setLoginDialog: (state, dialog) => {//设置dialog\r\n        state.loginDialog = dialog\r\n    },\r\n    setAddFriOrGroDialog: (state, dialog) => {//设置dialog\r\n        state.searchResultList = []\r\n        state.searchResultGroupsList = []\r\n        state.addFriOrGroDialog = dialog\r\n    },\r\n    setUser: (state, value) => {//设置searchKey的值\r\n        state.user = value\r\n    },\r\n    setSearchResult:(state, resultList) => {//设置搜索好友结果\r\n        state.searchResultList = resultList\r\n    },\r\n    setSearchGroupsResult:(state, resultList) => {//设置搜索群组结果\r\n        state.searchResultGroupsList = resultList\r\n    },\r\n    setFriendsList:(state, list) => {//设置好友列表\r\n        state.friendsList = list\r\n    },\r\n    setGroupsList:(state, list) => {//设置群组列表\r\n        state.groupsList = list\r\n    },\r\n    setGroupMemberList:(state, list) => {//设置群组成员列表\r\n        state.groupMemberList = list\r\n    },\r\n    pushGroupsList:(state, item) => {//push群组列表\r\n        state.groupsList.push(item)\r\n    },\r\n    pushFriendsList:(state, item) => {//push好友列表\r\n        state.friendsList.push(item)\r\n    },\r\n    deleteFriendsList:(state, item) => {//删除好友列表\r\n        for(let i in state.friendsList) {\r\n            if(state.friendsList[i]._id === item._id) {\r\n                state.friendsList.splice(i,1)\r\n                return\r\n            }\r\n        } \r\n    },\r\n    deleteGroupsList:(state, item) => {//删除好友列表\r\n        for(let i in state.groupsList) {\r\n            if(state.groupsList[i]._id === item._id) {\r\n                state.groupsList.splice(i,1)\r\n                return\r\n            }\r\n        } \r\n    },\r\n    changeCurrentOne:(state, currentOne) => {//改变当前选中页\r\n        state.currentOne = null\r\n        state.currentOne = currentOne\r\n        //state.counts[currentOne._id] = 0\r\n        Vue.set(state.counts, currentOne._id, 0)//消除点击的消息数目\r\n    },\r\n    clearCurrentone: (state) => {\r\n        //state.counts[state.currentOne._id] = 0\r\n        Vue.set(state.counts, state.currentOne._id, 0)//消除点击的消息数目\r\n        state.currentOne = null\r\n    },\r\n    pushMsg: (state, msg) => {//本地push信息\r\n        if(state.messages[msg.msgId]) {\r\n            state.messages[msg.msgId].push(msg)\r\n        } else {\r\n            Vue.set(state.messages, msg.msgId, [msg])\r\n            if(msg.groupId) {//群组增加会话\r\n                for(let i=0;i<state.groupsList.length;i++) {\r\n                    if(state.groupsList[i]._id == msg.groupId) {\r\n                        state.activeMsgList.push({\r\n                            name: state.groupsList[i].name,\r\n                            owner: state.groupsList[i].owner,\r\n                            avatar: state.groupsList[i].avatar,\r\n                            _id: msg.groupId\r\n                        })//增加会话\r\n                        return\r\n                    }\r\n                }\r\n            }else {\r\n               state.activeMsgList.push({\r\n                    name: msg._id ? state.currentOne.name : msg.name,\r\n                    avatar: msg.avatar,\r\n                    _id: msg.msgId\r\n                })//增加会话 \r\n            }\r\n            \r\n        }\r\n    },\r\n    addCount: (state, _id) => {//增加count数目\r\n        if(state.counts[_id]) {\r\n            state.counts[_id] = parseInt(state.counts[_id])+1\r\n            Vue.set(state.counts, _id, state.counts[_id])\r\n        } else {//新建\r\n            Vue.set(state.counts, _id, 1)\r\n        }\r\n    },\r\n    addFriendOk: (state, from) => {//应答别人的添加好友请求\r\n        state.noticeList.push(from)\r\n    },\r\n    delNoticeListItem: (state, item) => {//删除传来的消息\r\n        for(let i in state.noticeList) {\r\n            if(state.noticeList[i]._id === item._id) {\r\n                state.noticeList.splice(i,1)\r\n                return\r\n            }\r\n        }\r\n    },\r\n    delActiveMsgListItem: (state, item) => {//删除传来的消息\r\n        state.messages[item._id] = null\r\n        for(let i in state.activeMsgList) {\r\n            if(state.activeMsgList[i]._id === item._id) {\r\n                state.activeMsgList.splice(i,1)\r\n                return\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","// 连接webSocket\r\nimport io from 'socket.io-client'\r\n\r\nconst socket = io.connect(\"/\")\r\n\r\n//删除之前socket的所有监听\r\nfunction removeAllSocketListener() {\r\n    for(var listener in socket.$events){\r\n        if(listener != undefined){\r\n            socket.removeAllListeners(listener)\r\n        }\r\n    }\r\n}\r\n// 登陆后移除前一个用户的消息监听器,并为新用户添加消息监听器\r\nfunction addUserListener(user, state, commit) {\r\n    removeAllSocketListener()//删除之前所有监听\r\n    socket.on('message', ({ from, content, groupId, groupName }) => {\r\n        if(groupId) {//群信息\r\n            commit('pushMsg', {groupId:groupId,name:from.name,avatar:from.avatar,msgId:groupId,content:content})\r\n            if(state.currentOne && state.currentOne._id == groupId && state.isOpen) {\r\n            } else {\r\n                commit('addCount', groupId)\r\n            }\r\n        } else {\r\n            commit('pushMsg', {name:from.name,avatar:from.avatar,msgId:from._id,content:content})\r\n            if(state.currentOne && state.currentOne._id == from._id && state.isOpen) {\r\n            } else {\r\n                commit('addCount', from._id)\r\n            }\r\n        }\r\n        //\r\n        if(!state.isOpen) {\r\n            window.vue.$notify({\r\n                title: from.name+(groupName?' '+groupName:''),\r\n                dangerouslyUseHTMLString: true,\r\n                position: 'bottom-right',\r\n                message: content.indexOf('<img')>-1 ? '[图片]' : content\r\n            })\r\n        }\r\n        //收到信息应答\r\n        socket.emit('message', {ok:'信息成功送达'})\r\n    })\r\n    socket.on('addFriendOk', ({ from }) => {//对方请求添加你为好友\r\n        from.type = 'add'\r\n        commit('addFriendOk', from)\r\n    })\r\n}\r\n// 登陆后为所有群组添加监听器\r\nfunction addGroupsListener(group, state, commit) {\r\n    for(let i in group) {\r\n        socket.on(group[i]._id, ({ from, data }) => {\r\n            window.vue.$notify({\r\n                title: data.name,\r\n                dangerouslyUseHTMLString: true,\r\n                position: 'bottom-right',\r\n                message: data.content\r\n            })\r\n        })\r\n    }\r\n}\r\n// 为单个群组添加监听\r\nfunction addSingleGroupListener(groupId, state) {\r\n    socket.on(groupId, ({ from, data }) => {\r\n        window.vue.$notify({\r\n            title: data.name,\r\n            dangerouslyUseHTMLString: true,\r\n            position: 'bottom-right',\r\n            message: data.content\r\n        })\r\n    })\r\n}\r\n// 删除单个群组的监听\r\nfunction removeSingleGroupListener(groupId) {\r\n    socket.removeAllListeners(groupId)\r\n}\r\n\r\nexport {\r\n    socket,\r\n    addUserListener,\r\n    addGroupsListener,\r\n    addSingleGroupListener,\r\n    removeSingleGroupListener\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/socket/index.js","import { socket } from './index'\r\n\r\nexport default {\r\n    loginSuccess(data) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('loginSuccess', data)\r\n            socket.once('loginSuccess', data => {\r\n                if (data.type === 'error') return rej(data)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    getFriends(from) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('getFriends', { from })\r\n            socket.once('getFriends', data => {\r\n                if (data.msg || data.message) return rej(data)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    searchUsers({ keyword, from }) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('searchUsers', { keyword, from })\r\n            socket.once('searchUsers', data => {\r\n                if (data.msg || data.message) return rej(data)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    addFriend(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('addFriend', params)\r\n            socket.once('addFriend', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data.ok)\r\n            })\r\n        })\r\n    },\r\n    addFriendOk(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('addFriendOk', params)\r\n            socket.once('okAddFriend', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data.ok)\r\n            })\r\n        })\r\n    },\r\n    pushMsg(params) {//发送信息\r\n        return new Promise((res, rej) => {\r\n            socket.emit('pushMsg', params)\r\n            socket.once('pushMsg', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data.ok)\r\n            })\r\n        })\r\n    },\r\n    deleteUser(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('removeFriend', params)\r\n            socket.once('removeFriend', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data.ok)\r\n            })\r\n        })\r\n    },\r\n    createGroup(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('createGroup', params)\r\n            socket.once('createGroup', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    getGroups(from) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('getGroups', { from })\r\n            socket.once('getGroups', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    deleteGroup(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('removeGroup', params)\r\n            socket.once('removeGroup', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    searchGroups({keyword, from}) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('searchGroups', { keyword, from })\r\n            socket.once('searchGroups', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    addGroup(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('addGroup', params)\r\n            socket.once('addGroup', data => {\r\n                if (data.error) return rej(data.error)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    updateUser(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('updateUser', params)\r\n            socket.once('updateUser', data => {\r\n                if (data.msg || data.message) return rej(data)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    getGroupMember(params) {//\r\n        return new Promise((res, rej) => {\r\n            socket.emit('getGroupMember', params)\r\n            socket.once('getGroupMember', data => {\r\n                if (data.msg || data.message) return rej(data)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n\r\n\r\n\r\n\r\n    pullMsg(params) {\r\n        return new Promise((res, rej) => {\r\n            socket.emit('pullMsg', params)\r\n            socket.once('pullMsg', data => {\r\n                if (data.msg || data.message) return rej(data)\r\n                return res(data)\r\n            })\r\n        })\r\n    },\r\n    \r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/socket/events.js","import Vue from 'vue'\r\nimport { addUserListener, addGroupsListener, addSingleGroupListener, removeSingleGroupListener } from '@/socket'\r\nimport ws from '@/socket/events'\r\n\r\n//actions\r\nexport default {\r\n    loginSuccess({ state, commit }, data) {//登录成功后初始化好友列表\r\n        return ws.loginSuccess(data).then(result => {\r\n            //获取好友列表\r\n            ws.getFriends(state.user._id).then(result => {\r\n                commit('setFriendsList', result)\r\n            })\r\n            ws.getGroups(state.user._id).then(result => {\r\n                commit('setGroupsList', result)\r\n                //初始化群组监听器\r\n                addGroupsListener(result, state, commit)\r\n            })\r\n            // 初始化用户监听器\r\n            addUserListener(data, state, commit)\r\n        }, (result) => {\r\n            commit('loginError', result)\r\n        })\r\n    },\r\n    searchUsers({ state, commit }, keyword) {//搜索需要加入的好友\r\n        return ws.searchUsers({\r\n            keyword,\r\n            from: state.user._id\r\n        }).then(result => {\r\n            for(let i in result) {//filter\r\n                if(JSON.stringify(state.friendsList).indexOf(JSON.stringify(result[i])) > -1) {\r\n                    result[i].have = true\r\n                }\r\n            }\r\n            commit('setSearchResult', result)\r\n        })\r\n    },\r\n    searchGroup({ state, commit }, keyword) {//搜索需要加入的群组\r\n        return ws.searchGroups({\r\n            keyword,\r\n            from: state.user._id\r\n        }).then(result => {\r\n            for(let i in result) {//filter\r\n                if(JSON.stringify(state.groupsList).indexOf(JSON.stringify(result[i]._id)) > -1) {\r\n                    result[i].have = true\r\n                }\r\n            }\r\n            commit('setSearchGroupsResult', result)\r\n        })\r\n    },\r\n    addFriend({ state, commit }, friend) {//加好友\r\n        return ws.addFriend({\r\n            from: {_id:state.user._id, name: state.user.name, avatar: state.user.avatar},\r\n            friendId: friend._id\r\n        }).then((result) => {\r\n            commit('pushFriendsList', friend)\r\n            friend.type = 'resolve'\r\n            commit('addFriendOk', friend)\r\n        },(error) => {\r\n            friend.type = 'reject'\r\n            commit('addFriendOk', friend)\r\n        })\r\n    },\r\n    addFriendOk({ state, commit }, data) {//\r\n        commit('delNoticeListItem',data.data)\r\n        return ws.addFriendOk({_id:state.user._id, ok: data.mask}).then((result) => {\r\n           commit('pushFriendsList', data.data)\r\n        },(error) => {\r\n            console.log(error)\r\n        })\r\n    },\r\n    changeCurrentOne({ commit }, item) {//改变当前点击页面\r\n        commit('changeCurrentOne', item)\r\n    },\r\n    pushMsg({ state, commit }, content) {//发送信息\r\n        let params = {\r\n            from: state.user,\r\n            content: content\r\n        }\r\n        //\r\n        if (state.currentOne.owner) {\r\n            params.groupId = state.currentOne._id\r\n            params.groupName = state.currentOne.name\r\n        } else {\r\n            params.friendId = state.currentOne._id\r\n        }\r\n        //\r\n        commit('pushMsg', {\r\n            name: state.user.name,\r\n            avatar: state.user.avatar,\r\n            _id: state.user._id,\r\n            groupId:state.currentOne.owner?state.currentOne._id:null,\r\n            msgId: state.currentOne._id,\r\n            content: content\r\n        })\r\n        return ws.pushMsg(params).then((result) => {//把信息发送给对方\r\n            //console.log(result)\r\n        },(error) => {\r\n            alert(error)\r\n        })\r\n    },\r\n    deleteUser({ commit, state }, user) {//删除好友\r\n        return ws.deleteUser({fromId:state.user._id, friendId:user._id}).then((result) => {\r\n           state.currentOne = null\r\n           commit('deleteFriendsList', {name: user.name, _id: user._id})\r\n        },(error) => {\r\n            alert(error)\r\n        })\r\n    },\r\n    deleteGroup({ commit, state }, group) {//退出群组\r\n        return ws.deleteGroup({fromId:state.user._id, groupId:group._id}).then((result) => {\r\n           state.currentOne = null\r\n           commit('deleteGroupsList', {name: group.name, _id: group._id})\r\n           removeSingleGroupListener(group._id)\r\n        },(error) => {\r\n            alert(error)\r\n        })\r\n    },\r\n    createGroup({ commit, state }, data) {//创建群组\r\n        return ws.createGroup({\r\n            from: state.user._id,\r\n            data: { name: data.name, avatar: data.avatar }\r\n        }).then((item) => {//把新创建的群组放入列表中\r\n            commit('pushGroupsList', {name: data.name, avatar: item.avatar, _id: item.groupId, owner: state.user._id})\r\n        },(error) => {\r\n            alert(error)\r\n        })\r\n    },\r\n    addGroup({ commit, state }, group) {//加入群组\r\n        addSingleGroupListener(group._id, state)\r\n        return ws.addGroup({\r\n            from: state.user._id,\r\n            groupId: group._id\r\n        }).then(() => {\r\n            commit('pushGroupsList', {name: group.name, avatar: group.avatar, _id: group._id, owner: group.owner?group.owner:'null'})\r\n        })\r\n    },\r\n    updateUser({ commit, state }, data) {//更新user\r\n        let params = {\r\n            from: state.user._id,\r\n            data\r\n        }\r\n        return new Promise((res, rej)=> {\r\n            ws.updateUser(params).then(result => {\r\n                commit('setUser', {_id: state.user._id,name: data.name, avatar: data.avatar})\r\n                res(result)\r\n            },(error)=> {\r\n                rej(error)\r\n            })\r\n        })\r\n    },\r\n    getGroupMember({ commit, state }, data) {\r\n        commit('setGroupMemberList', [])\r\n        let groupId = data._id\r\n        return ws.getGroupMember({ groupId }).then(list => {\r\n            commit('setGroupMemberList', list)\r\n        })\r\n    },\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport { state, getters, mutations } from './mutations'\r\nimport actions from './actions'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    state: state,\r\n    getters: getters,\r\n    mutations: mutations,\r\n    actions: actions\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n//引入字体\nimport '@/assets/font/iconfont.css'\nimport Vue from 'vue'\nimport App from './App'\nimport VueResource from 'vue-resource'\nimport store from './store'\n\nimport { Button, RadioButton, RadioGroup, \nAutocomplete, Tabs, TabPane, Loading, Dialog, Form, FormItem, Input, Alert,\nDropdown, DropdownMenu, DropdownItem, Badge, Menu, MenuItem, Row, Col,\nMenuItemGroup, Tooltip, checkbox, checkboxGroup, Notification, MessageBox\n} from 'element-ui'\n//\nimport VueContextMenu from 'vue-contextmenu'\nVue.use(VueContextMenu)\n//\nVue.config.productionTip = false\n//\nVue.use(VueResource)\n/*引入element-ui组件*/\nVue.use(Button)\nVue.use(RadioButton)\nVue.use(RadioGroup)\nVue.use(Autocomplete)\nVue.use(Tabs)\nVue.use(TabPane)\nVue.use(Loading.directive)\nVue.use(Dialog)\nVue.use(Form)\nVue.use(FormItem)\nVue.use(Input)\nVue.use(Alert)\nVue.use(Dropdown)\nVue.use(DropdownMenu)\nVue.use(DropdownItem)\nVue.use(Badge)\nVue.use(Menu)\nVue.use(MenuItem)\nVue.use(MenuItemGroup)\nVue.use(Row)\nVue.use(Col)\nVue.use(Tooltip)\nVue.use(checkbox)\nVue.use(checkboxGroup)\n\nVue.prototype.$notify = Notification\nVue.prototype.$confirm = MessageBox.confirm\n\n\n\n/* eslint-disable no-new */\nwindow.vue = new Vue({\n  el: '#app',\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/spacer.gif\n// module id = xet3\n// module chunks = 1"],"sourceRoot":""}